<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🎮 موقع الألعاب التعليمي 🎯</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Cairo', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .header h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 50px;
        }

        .game-card {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            transition: all 0.3s ease;
            border: 1px solid rgba(255,255,255,0.2);
            cursor: pointer;
        }

        .game-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            background: rgba(255,255,255,0.15);
        }

        .game-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            display: block;
        }

        .game-title {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 15px;
            color: #FFD700;
        }

        .game-description {
            font-size: 1rem;
            margin-bottom: 25px;
            opacity: 0.9;
            line-height: 1.6;
        }

        .play-button {
            background: linear-gradient(45deg, #FF6B6B, #4ECDC4);
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            color: white;
            font-weight: 600;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Cairo', sans-serif;
        }

        .play-button:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(255,107,107,0.4);
        }

        .game-screen {
            display: none;
            background: rgba(255,255,255,0.05);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 30px;
            margin-top: 20px;
        }

        .game-screen.active {
            display: block;
        }

        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .game-controls {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .control-button {
            background: linear-gradient(45deg, #9C27B0, #673AB7);
            border: none;
            padding: 10px 20px;
            border-radius: 15px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Cairo', sans-serif;
            font-size: 0.9rem;
        }

        .control-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(156,39,176,0.4);
        }

        .back-button {
            background: linear-gradient(45deg, #FF5722, #E91E63);
        }

        .chess-board, .backgammon-board {
            display: grid;
            gap: 2px;
            margin: 20px auto;
            background: #8B4513;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .chess-board {
            grid-template-columns: repeat(8, 60px);
            grid-template-rows: repeat(8, 60px);
            max-width: 520px;
        }

        .chess-square {
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 8px;
        }

        .chess-square.light {
            background: #F0D9B5;
            color: #333;
        }

        .chess-square.dark {
            background: #B58863;
            color: #333;
        }

        .chess-square.selected {
            background: #FFD700 !important;
            box-shadow: 0 0 15px rgba(255,215,0,0.6);
        }

        .chess-square.valid-move {
            background: #90EE90 !important;
            box-shadow: 0 0 10px rgba(144,238,144,0.6);
        }

        .backgammon-board {
            grid-template-columns: repeat(12, 1fr);
            grid-template-rows: auto auto auto auto;
            max-width: 800px;
            background: linear-gradient(45deg, #8B4513, #A0522D);
            border: 5px solid #654321;
        }

        .backgammon-point {
            height: 150px;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding: 5px;
        }

        .backgammon-point.top {
            background: linear-gradient(180deg, #8B0000 0%, #CD853F 100%);
            clip-path: polygon(0 0, 100% 0, 50% 100%);
        }

        .backgammon-point.bottom {
            background: linear-gradient(0deg, #8B0000 0%, #CD853F 100%);
            clip-path: polygon(50% 0, 0 100%, 100% 100%);
        }

        .backgammon-point:nth-child(even) {
            background: linear-gradient(180deg, #2F4F4F 0%, #CD853F 100%);
        }

        .backgammon-point.bottom:nth-child(even) {
            background: linear-gradient(0deg, #2F4F4F 0%, #CD853F 100%);
        }

        .backgammon-piece {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            border: 2px solid #333;
            margin: 1px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
        }

        .backgammon-piece.white {
            background: radial-gradient(circle, #FFFFFF, #E0E0E0);
        }

        .backgammon-piece.black {
            background: radial-gradient(circle, #2C2C2C, #000000);
        }

        .game-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .info-card {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
        }

        .info-card h3 {
            color: #FFD700;
            margin-bottom: 10px;
        }

        .mode-selector {
            display: flex;
            gap: 15px;
            align-items: center;
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 15px;
            margin: 15px 0;
        }

        .radio-group {
            display: flex;
            gap: 20px;
        }

        .radio-option {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            padding: 8px 15px;
        }

        /* أنماط النرد بالنقاط */
        .backgammon-dice {
            text-align: center;
            font-size: 2em;
            margin: 10px 0;
            padding: 10px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            border: 2px solid #4CAF50;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
        }

        .dice-face {
            width: 60px;
            height: 60px;
            background: white;
            border: 2px solid #333;
            border-radius: 8px;
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            grid-template-rows: 1fr 1fr 1fr;
            gap: 2px;
            padding: 4px;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.3);
        }

        .dice-dot {
            width: 8px;
            height: 8px;
            background: #333;
            border-radius: 50%;
            margin: auto;
        }

        .dice-empty {
            width: 8px;
            height: 8px;
            margin: auto;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        .radio-option:hover {
            background: rgba(255,255,255,0.1);
        }

        .radio-option input[type="radio"] {
            width: 18px;
            height: 18px;
            accent-color: #4ECDC4;
        }

        .tutorial-section {
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
        }

        .tutorial-content {
            display: none;
        }

        .tutorial-content.active {
            display: block;
        }

        .tutorial-nav {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        .tutorial-button {
            background: linear-gradient(45deg, #4ECDC4, #44A08D);
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            font-family: 'Cairo', sans-serif;
        }

        .hints-section {
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
        }

        .hint-item {
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .hint-item:hover {
            background: rgba(255,255,255,0.2);
            transform: translateX(-5px);
        }

        .footer {
            text-align: center;
            margin-top: 50px;
            padding: 30px;
            background: rgba(0,0,0,0.2);
            border-radius: 20px;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .games-grid {
                grid-template-columns: 1fr;
            }
            
            .chess-square {
                width: 40px;
                height: 40px;
                font-size: 1.8rem;
            }
            
            .chess-board {
                grid-template-columns: repeat(8, 40px);
                grid-template-rows: repeat(8, 40px);
            }
        }

        /* تحسينات للريموت كنترول */
        .focused {
            outline: 3px solid #4ECDC4;
            outline-offset: 2px;
            box-shadow: 0 0 15px rgba(78, 205, 196, 0.5);
        }

        .remote-hint {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 0.9rem;
            z-index: 1000;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- الصفحة الرئيسية -->
        <div id="main-menu">
            <div class="header">
                <h1>🎮 موقع الألعاب التعليمي 🎯</h1>
                <p>ألعاب ذكية وممتعة للكبار والصغار - مع دعم كامل للريموت كنترول</p>
            </div>

            <div class="games-grid">
                <div class="game-card" onclick="selectGame('chess')">
                    <span class="game-icon">♔</span>
                    <h3 class="game-title">الشطرنج</h3>
                    <p class="game-description">لعبة الملوك والاستراتيجية مع ذكاء اصطناعي متقدم ودروس تعليمية شاملة</p>
                    <button class="play-button">ابدأ اللعب</button>
                </div>

                <div class="game-card" onclick="selectGame('backgammon')">
                    <span class="game-icon">⚫</span>
                    <h3 class="game-title">الطاولة</h3>
                    <p class="game-description">اللعبة الشرقية الأصيلة مع محاكاة واقعية للنرد وذكاء اصطناعي ذكي</p>
                    <button class="play-button">ابدأ اللعب</button>
                </div>

                <div class="game-card" onclick="selectGame('domino')">
                    <span class="game-icon">⚀</span>
                    <h3 class="game-title">الدومينو</h3>
                    <p class="game-description">لعبة التفكير والتخطيط مع 28 قطعة كاملة وذكاء اصطناعي متطور</p>
                    <button class="play-button">ابدأ اللعب</button>
                </div>

                <div class="game-card" onclick="selectGame('coming-soon')">
                    <span class="game-icon">🚀</span>
                    <h3 class="game-title">حرب النجوم</h3>
                    <p class="game-description">مغامرة فضائية مثيرة مناسبة للأطفال من 3 سنوات مع رسوميات جميلة</p>
                    <button class="play-button">ابدأ المغامرة</button>
                </div>

                <div class="game-card" onclick="selectGame('coming-soon')">
                    <span class="game-icon">🏎️</span>
                    <h3 class="game-title">سباق السيارات</h3>
                    <p class="game-description">سرعة وإثارة على الطريق مع فيزياء واقعية وسهولة في التحكم</p>
                    <button class="play-button">ابدأ السباق</button>
                </div>

                <div class="game-card" onclick="selectGame('coming-soon')">
                    <span class="game-icon">🎲</span>
                    <h3 class="game-title">المزيد قريباً</h3>
                    <p class="game-description">نعمل على إضافة المزيد من الألعاب التعليمية والممتعة</p>
                    <button class="play-button">قريباً</button>
                </div>
            </div>

            <div class="game-info">
                <div class="info-card">
                    <h3>📺 دعم التلفزيون الذكي</h3>
                    <p>العب بريموت التلفزيون بسهولة تامة</p>
                </div>
                <div class="info-card">
                    <h3>🤖 ذكاء اصطناعي متقدم</h3>
                    <p>خصم ذكي يتحدى مهاراتك</p>
                </div>
                <div class="info-card">
                    <h3>🔊 أصوات واقعية</h3>
                    <p>تأثيرات صوتية مميزة لكل لعبة</p>
                </div>
                <div class="info-card">
                    <h3>📚 دروس تعليمية</h3>
                    <p>تعلم من الصفر حتى الاحتراف</p>
                </div>
            </div>

            <div class="tutorial-section">
                <h3>🎮 كيفية التحكم بالريموت</h3>
                <p>⬅️➡️⬆️⬇️ الأسهم للتنقل &nbsp;&nbsp; ✅ OK للاختيار &nbsp;&nbsp; 🔙 Back للرجوع &nbsp;&nbsp; 🏠 Home للقائمة الرئيسية</p>
            </div>
        </div>

        <!-- شاشة الشطرنج -->
        <div id="chess-game" class="game-screen">
            <div class="game-header">
                <h2>♔ لعبة الشطرنج</h2>
                <div class="game-controls">
                    <button class="control-button back-button" onclick="showMainMenu()">🔙 العودة للقائمة الرئيسية</button>
                    <button class="control-button" onclick="resetChess()">🔄 لعبة جديدة</button>
                    <button class="control-button" onclick="showChessTutorial()">📚 الدليل التعليمي</button>
                </div>
            </div>

            <!-- أزرار التحكم -->
            <div class="mode-selector">
                <span style="color: #FFD700; font-weight: 600;">وضع اللعب:</span>
                <div class="radio-group">
                    <label class="radio-option">
                        <input type="radio" name="chess-mode" value="computer" checked onchange="toggleChessMode()">
                        <span style="color: white;">🤖 ضد الكمبيوتر</span>
                    </label>
                    <label class="radio-option">
                        <input type="radio" name="chess-mode" value="friend" onchange="toggleChessMode()">
                        <span style="color: white;">👥 مع صديق</span>
                    </label>
                </div>
                
                <span style="color: #FFD700; font-weight: 600;">المستوى:</span>
                <button onclick="toggleChessLevel()" id="chess-level" class="control-button">متوسط</button>
            </div>

            <div id="chess-board" class="chess-board"></div>

            <div class="game-info">
                <div class="info-card">
                    <h3>اللاعب الحالي</h3>
                    <p id="chess-current-player">الأبيض</p>
                </div>
                <div class="info-card">
                    <h3>حالة اللعبة</h3>
                    <p id="chess-status">اختر قطعة للحركة</p>
                </div>
            </div>

            <!-- النصائح والاقتراحات -->
            <div class="hints-section">
                <h3>💡 النصائح والاقتراحات</h3>
                <div id="chess-current-hint">
                    <p style="color: #4ECDC4;">اختر قطعة لرؤية النصائح والحركات المقترحة</p>
                </div>
                <div id="chess-suggestions"></div>
            </div>
        </div>

        <!-- شاشة الطاولة -->
        <div id="backgammon-game" class="game-screen">
            <div class="game-header">
                <h2>⚫ لعبة الطاولة</h2>
                <div class="game-controls">
                    <button class="control-button back-button" onclick="showMainMenu()">🔙 العودة للقائمة الرئيسية</button>
                    <button class="control-button" onclick="resetBackgammon()">🔄 لعبة جديدة</button>
                    <button class="control-button" onclick="rollBackgammonDice()">🎲 رمي النرد</button>
                    <button class="control-button" onclick="showBackgammonTutorial()">📚 الدليل التعليمي</button>
                </div>
            </div>

            <!-- أزرار التحكم -->
            <div class="mode-selector">
                <span style="color: #FFD700; font-weight: 600;">وضع اللعب:</span>
                <div class="radio-group">
                    <label class="radio-option">
                        <input type="radio" name="backgammon-mode" value="computer" checked onchange="toggleBackgammonMode()">
                        <span style="color: white;">🤖 ضد الكمبيوتر</span>
                    </label>
                    <label class="radio-option">
                        <input type="radio" name="backgammon-mode" value="friend" onchange="toggleBackgammonMode()">
                        <span style="color: white;">👥 مع صديق</span>
                    </label>
                </div>
                
                <span style="color: #FFD700; font-weight: 600;">نوع اللعبة:</span>
                <button onclick="toggleBackgammonVariant()" id="backgammon-variant" class="control-button">الطاولة العادية</button>
                
                <span style="color: #FFD700; font-weight: 600;">المستوى:</span>
                <button onclick="toggleBackgammonLevel()" id="backgammon-level" class="control-button">متوسط</button>
            </div>

            <div class="game-info">
                <div class="info-card">
                    <h3>اللاعب الحالي</h3>
                    <p id="backgammon-current-player">الأبيض</p>
                </div>
                <div class="info-card">
                    <h3>النرد</h3>
                    <p id="backgammon-dice">🎲 🎲</p>
                </div>
                <div class="info-card">
                    <h3>حالة اللعبة</h3>
                    <p id="backgammon-status">اضغط "رمي النرد" لبدء اللعب</p>
                </div>
            </div>

            <div id="backgammon-board" class="backgammon-board"></div>

            <!-- النصائح والاقتراحات -->
            <div class="hints-section">
                <h3>🎲 النصائح والاقتراحات</h3>
                <div id="backgammon-current-hint">
                    <p style="color: #4ECDC4;">ارم النرد واختر قطعة لرؤية النصائح والحركات المقترحة</p>
                </div>
                <div id="backgammon-suggestions"></div>
            </div>
        </div>

        <!-- شاشة الدومينو -->
        <div id="domino-game" class="game-screen">
            <div class="game-header">
                <h2>⚀ لعبة الدومينو</h2>
                <div class="game-controls">
                    <button class="control-button back-button" onclick="showMainMenu()">🔙 العودة للقائمة الرئيسية</button>
                    <button class="control-button" onclick="resetDomino()">🔄 لعبة جديدة</button>
                    <button class="control-button" onclick="drawTileDomino()">📥 سحب قطعة</button>
                    <button class="control-button" onclick="showDominoTutorial()">📚 الدليل التعليمي</button>
                </div>
            </div>

            <!-- أزرار التحكم -->
            <div class="mode-selector">
                <span style="color: #FFD700; font-weight: 600;">وضع اللعب:</span>
                <div class="radio-group">
                    <label class="radio-option">
                        <input type="radio" name="domino-mode" value="computer" checked onchange="toggleDominoMode()">
                        <span style="color: white;">🤖 ضد الكمبيوتر</span>
                    </label>
                    <label class="radio-option">
                        <input type="radio" name="domino-mode" value="friend" onchange="toggleDominoMode()">
                        <span style="color: white;">👥 مع صديق</span>
                    </label>
                </div>
                
                <span style="color: #FFD700; font-weight: 600;">المستوى:</span>
                <button onclick="toggleDominoLevel()" id="domino-level-btn" class="control-button">متوسط</button>
            </div>

            <div class="game-info">
                <div class="info-card">
                    <h3>اللاعب الحالي</h3>
                    <p id="domino-current-player">اللاعب</p>
                </div>
                <div class="info-card">
                    <h3>قطع اللاعب</h3>
                    <p id="player-tiles-count">7 قطع</p>
                </div>
                <div class="info-card">
                    <h3>قطع الكمبيوتر</h3>
                    <p id="computer-tiles-count">7 قطع</p>
                </div>
                <div class="info-card">
                    <h3>المخزون</h3>
                    <p id="stock-tiles-count">14 قطعة</p>
                </div>
            </div>

            <div style="background: rgba(255,255,255,0.1); border-radius: 15px; padding: 20px; margin: 20px 0;">
                <h3 style="color: #FFD700; margin-bottom: 15px;">🎯 طاولة اللعب</h3>
                <div id="domino-tiles-container" style="display: flex; flex-wrap: wrap; justify-content: center; gap: 5px; min-height: 100px; align-items: center; background: #2E8B57; border-radius: 10px; padding: 20px;">
                    <div style="color: #4ECDC4; font-size: 1.2rem;">ضع أول قطعة لبدء اللعب</div>
                </div>
            </div>

            <div style="background: rgba(255,255,255,0.1); border-radius: 15px; padding: 20px; margin: 20px 0;">
                <h3 style="color: #FFD700; margin-bottom: 15px;">🎮 قطعك</h3>
                <div id="player-hand" style="display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; min-height: 80px; align-items: center;"></div>
            </div>

            <div class="info-card">
                <h3>حالة اللعبة</h3>
                <p id="domino-status">دورك - اختر قطعة للعب</p>
            </div>

            <!-- النصائح والاقتراحات -->
            <div class="hints-section">
                <h3>🎯 النصائح والاقتراحات</h3>
                <div id="domino-current-hint">
                    <p style="color: #4ECDC4;">اختر قطعة لرؤية النصائح والحركات المقترحة</p>
                </div>
                <div id="domino-suggestions"></div>
            </div>
        </div>

        <!-- التذييل -->
        <div class="footer">
            <p>🎮 برمجة وتطوير: محاسب أحمد مبروك</p>
            <p>موقع الألعاب التعليمي - تجربة تعليمية ممتعة للجميع</p>
        </div>
    </div>

    <!-- مؤشر الريموت كنترول -->
    <div class="remote-hint" id="remote-hint" style="display: none;">
        استخدم الأسهم للتنقل و OK للاختيار
    </div>

    <script>
        // متغيرات عامة
        let currentGame = null;
        let chessEngine = null;
        let backgammonEngine = null;
        let dominoEngine = null;
        let isRemoteControlMode = false;
        let focusedElement = null;

        // كشف التلفزيون الذكي
        function detectSmartTV() {
            const userAgent = navigator.userAgent.toLowerCase();
            const isTV = userAgent.includes('smart-tv') || 
                         userAgent.includes('smarttv') || 
                         userAgent.includes('tizen') || 
                         userAgent.includes('webos') || 
                         window.innerWidth > 1920;
            
            if (isTV) {
                isRemoteControlMode = true;
                document.getElementById('remote-hint').style.display = 'block';
                initRemoteControl();
            }
        }

        // تهيئة التحكم بالريموت
        function initRemoteControl() {
            document.addEventListener('keydown', handleRemoteControl);
            
            // تركيز على أول عنصر
            const firstCard = document.querySelector('.game-card');
            if (firstCard) {
                focusElement(firstCard);
            }
        }

        function handleRemoteControl(event) {
            if (!isRemoteControlMode) return;
            
            event.preventDefault();
            
            switch(event.key) {
                case 'ArrowUp':
                case 'ArrowDown':
                case 'ArrowLeft':
                case 'ArrowRight':
                    navigateElements(event.key);
                    break;
                case 'Enter':
                case 'OK':
                    if (focusedElement) {
                        focusedElement.click();
                    }
                    break;
                case 'Escape':
                case 'Back':
                    showMainMenu();
                    break;
                case 'Home':
                    showMainMenu();
                    break;
            }
        }

        function focusElement(element) {
            if (focusedElement) {
                focusedElement.classList.remove('focused');
            }
            focusedElement = element;
            element.classList.add('focused');
            element.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }

        function navigateElements(direction) {
            const focusableElements = document.querySelectorAll('.game-card, .control-button, .chess-square, .backgammon-point, .domino-tile');
            const currentIndex = Array.from(focusableElements).indexOf(focusedElement);
            
            let nextIndex = currentIndex;
            
            switch(direction) {
                case 'ArrowRight':
                    nextIndex = (currentIndex + 1) % focusableElements.length;
                    break;
                case 'ArrowLeft':
                    nextIndex = (currentIndex - 1 + focusableElements.length) % focusableElements.length;
                    break;
                case 'ArrowDown':
                    nextIndex = Math.min(currentIndex + 3, focusableElements.length - 1);
                    break;
                case 'ArrowUp':
                    nextIndex = Math.max(currentIndex - 3, 0);
                    break;
            }
            
            if (focusableElements[nextIndex]) {
                focusElement(focusableElements[nextIndex]);
            }
        }

        // تشغيل الأصوات
        function playSound(type) {
            // محاكاة الأصوا        function playSound(type) {
            // إنشاء أصوات واقعية باستخدام Web Audio API
            if (typeof AudioContext !== 'undefined' || typeof webkitAudioContext !== 'undefined') {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                
                switch(type) {
                    case 'dice_roll':
                        // صوت رمي النرد الواقعي
                        createDiceRollSound(audioContext);
                        break;
                    case 'move':
                        createMoveSound(audioContext);
                        break;
                    case 'capture':
                        createCaptureSound(audioContext);
                        break;
                    case 'select':
                        createSelectSound(audioContext);
                        break;
                    case 'win':
                        createWinSound(audioContext);
                        break;
                }
            }
            
            // اهتزاز إضافي للتلفزيون الذكي
            if (navigator.vibrate) {
                switch(type) {
                    case 'dice_roll':
                        navigator.vibrate([100, 50, 100, 50, 100]);
                        break;
                    case 'move':
                        navigator.vibrate(50);
                        break;
                    case 'capture':
                        navigator.vibrate([100, 50, 100]);
                        break;
                    case 'select':
                        navigator.vibrate(30);
                        break;
                    case 'win':
                        navigator.vibrate([200, 100, 200, 100, 200]);
                        break;
                }
            }
        }

        function createDiceRollSound(audioContext) {
            // صوت رمي النرد الواقعي - مزيج من الضوضاء والنقرات
            const duration = 0.8;
            const gainNode = audioContext.createGain();
            
            // ضوضاء بيضاء للصوت الأساسي
            const bufferSize = audioContext.sampleRate * duration;
            const buffer = audioContext.createBuffer(1, bufferSize, audioContext.sampleRate);
            const data = buffer.getChannelData(0);
            
            for (let i = 0; i < bufferSize; i++) {
                data[i] = (Math.random() * 2 - 1) * 0.1;
            }
            
            const noise = audioContext.createBufferSource();
            noise.buffer = buffer;
            
            // فلتر لجعل الصوت أكثر واقعية
            const filter = audioContext.createBiquadFilter();
            filter.type = 'bandpass';
            filter.frequency.value = 800;
            filter.Q.value = 5;
            
            // مغلف الصوت
            gainNode.gain.setValueAtTime(0, audioContext.currentTime);
            gainNode.gain.linearRampToValueAtTime(0.3, audioContext.currentTime + 0.1);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);
            
            noise.connect(filter);
            filter.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            noise.start(audioContext.currentTime);
            noise.stop(audioContext.currentTime + duration);
            
            // إضافة نقرات للواقعية
            for (let i = 0; i < 3; i++) {
                setTimeout(() => createClickSound(audioContext), i * 200);
            }
        }

        function createClickSound(audioContext) {
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.frequency.setValueAtTime(1000, audioContext.currentTime);
            oscillator.frequency.exponentialRampToValueAtTime(100, audioContext.currentTime + 0.1);
            
            gainNode.gain.setValueAtTime(0.2, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.1);
        }

        function createMoveSound(audioContext) {
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.frequency.value = 440;
            gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.2);
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.2);
        }

        function createCaptureSound(audioContext) {
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
            oscillator.frequency.linearRampToValueAtTime(400, audioContext.currentTime + 0.3);
            
            gainNode.gain.setValueAtTime(0.2, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.3);
        }

        function createSelectSound(audioContext) {
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.frequency.value = 600;
            gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.1);
        }

        function createWinSound(audioContext) {
            // لحن انتصار بسيط
            const notes = [523, 659, 784, 1047]; // C, E, G, C
            notes.forEach((freq, index) => {
                setTimeout(() => {
                    const oscillator = audioContext.createOscillator();
                    const gainNode = audioContext.createGain();
                    
                    oscillator.frequency.value = freq;
                    gainNode.gain.setValueAtTime(0.2, audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
                    
                    oscillator.connect(gainNode);
                    gainNode.connect(audioContext.destination);
                    
                    oscillator.start(audioContext.currentTime);
                    oscillator.stop(audioContext.currentTime + 0.5);
                }, index * 200);
            });
        }

        function rollBackgammonDice() {
            // تشغيل صوت رمي النرد الواقعي
            playSound('dice_roll');
            
            // إضافة تأثير بصري للرمي
            const diceDisplay = document.getElementById('backgammon-dice');
            diceDisplay.innerHTML = '🎲 جاري الرمي...';
            diceDisplay.style.animation = 'shake 0.8s ease-in-out';
            
            setTimeout(() => {
                const dice1 = Math.floor(Math.random() * 6) + 1;
                const dice2 = Math.floor(Math.random() * 6) + 1;
                
                backgammonEngine.setDice([dice1, dice2]);
                
                // عرض النرد بالنقاط الحقيقية
                diceDisplay.innerHTML = createDiceHTML(dice1) + ' ' + createDiceHTML(dice2);
                diceDisplay.style.animation = '';
                
                updateBackgammonHints();
            }, 800);
        }

        function createDiceHTML(value) {
            const dicePatterns = {
                1: [
                    [0, 0, 0],
                    [0, 1, 0],
                    [0, 0, 0]
                ],
                2: [
                    [1, 0, 0],
                    [0, 0, 0],
                    [0, 0, 1]
                ],
                3: [
                    [1, 0, 0],
                    [0, 1, 0],
                    [0, 0, 1]
                ],
                4: [
                    [1, 0, 1],
                    [0, 0, 0],
                    [1, 0, 1]
                ],
                5: [
                    [1, 0, 1],
                    [0, 1, 0],
                    [1, 0, 1]
                ],
                6: [
                    [1, 0, 1],
                    [1, 0, 1],
                    [1, 0, 1]
                ]
            };

            const pattern = dicePatterns[value];
            let diceHTML = '<div class="dice-face">';
            
            for (let row = 0; row < 3; row++) {
                for (let col = 0; col < 3; col++) {
                    if (pattern[row][col] === 1) {
                        diceHTML += '<div class="dice-dot"></div>';
                    } else {
                        diceHTML += '<div class="dice-empty"></div>';
                    }
                }
            }
            
            diceHTML += '</div>';
            return diceHTML;
        }

        // === محرك الشطرنج المبسط ===
        class SimpleChessEngine {
            constructor() {
                this.board = this.createInitialBoard();
                this.currentPlayer = 'white';
                this.selectedSquare = null;
                this.gameMode = 'computer';
                this.aiLevel = 'medium';
                this.gameStatus = 'playing';
            }

            createInitialBoard() {
                const board = Array(8).fill().map(() => Array(8).fill(null));
                
                // القطع السوداء
                board[0] = ['♜', '♞', '♝', '♛', '♚', '♝', '♞', '♜'];
                board[1] = Array(8).fill('♟');
                
                // القطع البيضاء
                board[6] = Array(8).fill('♙');
                board[7] = ['♖', '♘', '♗', '♕', '♔', '♗', '♘', '♖'];
                
                return board;
            }

            isValidMove(fromRow, fromCol, toRow, toCol) {
                // تحقق بسيط من صحة الحركة
                if (toRow < 0 || toRow > 7 || toCol < 0 || toCol > 7) return false;
                
                const piece = this.board[fromRow][fromCol];
                const targetPiece = this.board[toRow][toCol];
                
                if (!piece) return false;
                
                // لا يمكن أكل قطعة من نفس اللون
                if (targetPiece && this.getPieceColor(piece) === this.getPieceColor(targetPiece)) {
                    return false;
                }
                
                return true; // تبسيط - قبول جميع الحركات الأساسية
            }

            getPieceColor(piece) {
                return ['♔', '♕', '♖', '♗', '♘', '♙'].includes(piece) ? 'white' : 'black';
            }

            makeMove(fromRow, fromCol, toRow, toCol) {
                if (!this.isValidMove(fromRow, fromCol, toRow, toCol)) return false;
                
                const piece = this.board[fromRow][fromCol];
                const targetPiece = this.board[toRow][toCol];
                
                this.board[toRow][toCol] = piece;
                this.board[fromRow][fromCol] = null;
                
                if (targetPiece) {
                    playSound('capture');
                } else {
                    playSound('move');
                }
                
                this.currentPlayer = this.currentPlayer === 'white' ? 'black' : 'white';
                return true;
            }

            makeAIMove() {
                // ذكاء اصطناعي بسيط - حركة عشوائية
                const moves = this.getAllValidMoves(this.currentPlayer);
                if (moves.length > 0) {
                    const randomMove = moves[Math.floor(Math.random() * moves.length)];
                    this.makeMove(randomMove.fromRow, randomMove.fromCol, randomMove.toRow, randomMove.toCol);
                }
            }

            getAllValidMoves(color) {
                const moves = [];
                for (let row = 0; row < 8; row++) {
                    for (let col = 0; col < 8; col++) {
                        const piece = this.board[row][col];
                        if (piece && this.getPieceColor(piece) === color) {
                            for (let toRow = 0; toRow < 8; toRow++) {
                                for (let toCol = 0; toCol < 8; toCol++) {
                                    if (this.isValidMove(row, col, toRow, toCol)) {
                                        moves.push({ fromRow: row, fromCol: col, toRow, toCol });
                                    }
                                }
                            }
                        }
                    }
                }
                return moves;
            }

            reset() {
                this.board = this.createInitialBoard();
                this.currentPlayer = 'white';
                this.selectedSquare = null;
                this.gameStatus = 'playing';
            }
        }

        // === محرك الطاولة المبسط ===
        class SimpleBackgammonEngine {
            constructor() {
                this.gameVariants = {
                    'standard': {
                        name: 'الطاولة العادية',
                        description: 'الطريقة التقليدية المعروفة عالمياً مع إمكانية الأسر',
                        rules: { startingPosition: 'standard', canHit: true, mustEnterFirst: true }
                    },
                    'plakoto': {
                        name: 'الطاولة الفرنجية',
                        description: 'القطع المأسورة تبقى في مكانها ولا تخرج من اللوحة',
                        rules: { startingPosition: 'plakoto', canHit: false, mustEnterFirst: false }
                    },
                    'fevga': {
                        name: 'الطاولة الموسى',
                        description: 'لا يمكن بناء أكثر من نقطة متتالية واحدة',
                        rules: { startingPosition: 'fevga', canHit: false, blockLimit: 1 }
                    },
                    'narde': {
                        name: 'الطاولة الأرمنية',
                        description: 'جميع القطع تتحرك في نفس الاتجاه',
                        rules: { startingPosition: 'narde', canHit: false, sameDirection: true }
                    }
                };
                
                this.gameVariant = 'standard';
                this.board = this.createInitialBoard();
                this.currentPlayer = 'white';
                this.dice = [0, 0];
                this.gameMode = 'computer';
                this.aiLevel = 'medium';
                this.gameStatus = 'playing';
            }

            createInitialBoard() {
                const board = Array(28).fill().map(() => ({ pieces: 0, color: null }));
                
                const variant = this.gameVariants[this.gameVariant];
                const startingPosition = variant.rules.startingPosition;
                
                switch (startingPosition) {
                    case 'standard':
                        board[1] = { pieces: 2, color: 'white' };
                        board[12] = { pieces: 5, color: 'white' };
                        board[17] = { pieces: 3, color: 'white' };
                        board[19] = { pieces: 5, color: 'white' };
                        
                        board[6] = { pieces: 5, color: 'black' };
                        board[8] = { pieces: 3, color: 'black' };
                        board[13] = { pieces: 5, color: 'black' };
                        board[24] = { pieces: 2, color: 'black' };
                        break;
                        
                    case 'plakoto':
                        board[1] = { pieces: 15, color: 'white' };
                        board[24] = { pieces: 15, color: 'black' };
                        break;
                        
                    case 'fevga':
                        board[1] = { pieces: 15, color: 'white' };
                        board[13] = { pieces: 15, color: 'black' };
                        break;
                        
                    case 'narde':
                        board[24] = { pieces: 15, color: 'white' };
                        board[12] = { pieces: 15, color: 'black' };
                        break;
                }
                
                return board;
            }

            setGameVariant(variant) {
                if (this.gameVariants[variant]) {
                    this.gameVariant = variant;
                    this.reset();
                }
            }

            rollDice() {
                this.dice = [
                    Math.floor(Math.random() * 6) + 1,
                    Math.floor(Math.random() * 6) + 1
                ];
                playSound('move');
                return this.dice;
            }

            reset() {
                this.board = this.createInitialBoard();
                this.currentPlayer = 'white';
                this.dice = [0, 0];
                this.gameStatus = 'playing';
            }
        }

        // === محرك الدومينو المبسط ===
        class SimpleDominoEngine {
            constructor() {
                this.tiles = this.createAllTiles();
                this.playerHand = [];
                this.computerHand = [];
                this.board = [];
                this.currentPlayer = 'player';
                this.gameMode = 'computer';
                this.aiLevel = 'medium';
                this.gameStatus = 'playing';
                this.winner = null;
                this.reset();
            }

            createAllTiles() {
                const tiles = [];
                for (let i = 0; i <= 6; i++) {
                    for (let j = i; j <= 6; j++) {
                        tiles.push({
                            left: i,
                            right: j,
                            isDouble: i === j
                        });
                    }
                }
                return this.shuffleArray(tiles);
            }

            shuffleArray(array) {
                const shuffled = [...array];
                for (let i = shuffled.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
                }
                return shuffled;
            }

            reset() {
                this.tiles = this.createAllTiles();
                this.playerHand = this.tiles.splice(0, 7);
                this.computerHand = this.tiles.splice(0, 7);
                this.board = [];
                this.currentPlayer = 'player';
                this.gameStatus = 'playing';
                this.winner = null;
            }

            getValidMoves(hand) {
                if (this.board.length === 0) {
                    return hand.map(tile => ({ tile, position: 'start' }));
                }
                
                const moves = [];
                const leftEnd = this.board[0].left;
                const rightEnd = this.board[this.board.length - 1].right;
                
                hand.forEach(tile => {
                    if (tile.left === leftEnd || tile.right === leftEnd) {
                        moves.push({ tile, position: 'left' });
                    }
                    if (tile.left === rightEnd || tile.right === rightEnd) {
                        moves.push({ tile, position: 'right' });
                    }
                });
                
                return moves;
            }

            makeMove(move) {
                const { tile, position } = move;
                
                if (position === 'start') {
                    this.board.push(tile);
                } else if (position === 'left') {
                    this.board.unshift(tile);
                } else if (position === 'right') {
                    this.board.push(tile);
                }
                
                // إزالة القطعة من يد اللاعب
                if (this.currentPlayer === 'player') {
                    const index = this.playerHand.indexOf(tile);
                    if (index > -1) this.playerHand.splice(index, 1);
                } else {
                    const index = this.computerHand.indexOf(tile);
                    if (index > -1) this.computerHand.splice(index, 1);
                }
                
                this.checkWinCondition();
                this.currentPlayer = this.currentPlayer === 'player' ? 'computer' : 'player';
                
                return true;
            }

            makeAIMove() {
                const validMoves = this.getValidMoves(this.computerHand);
                if (validMoves.length > 0) {
                    const randomMove = validMoves[Math.floor(Math.random() * validMoves.length)];
                    this.makeMove(randomMove);
                    return true;
                }
                return false;
            }

            drawTile() {
                if (this.tiles.length > 0) {
                    const tile = this.tiles.pop();
                    if (this.currentPlayer === 'player') {
                        this.playerHand.push(tile);
                    } else {
                        this.computerHand.push(tile);
                    }
                    return true;
                }
                return false;
            }

            checkWinCondition() {
                if (this.playerHand.length === 0) {
                    this.winner = 'player';
                    this.gameStatus = 'finished';
                } else if (this.computerHand.length === 0) {
                    this.winner = 'computer';
                    this.gameStatus = 'finished';
                }
            }
        }

        // === وظائف الواجهة ===

        function showMainMenu() {
            document.getElementById('main-menu').style.display = 'block';
            document.querySelectorAll('.game-screen').forEach(screen => {
                screen.classList.remove('active');
            });
            currentGame = null;
            playSound('select');
        }

        function selectGame(gameType) {
            playSound('select');
            
            document.getElementById('main-menu').style.display = 'none';
            
            if (gameType === 'chess') {
                document.getElementById('chess-game').classList.add('active');
                initChess();
            } else if (gameType === 'backgammon') {
                document.getElementById('backgammon-game').classList.add('active');
                initBackgammon();
            } else if (gameType === 'domino') {
                document.getElementById('domino-game').classList.add('active');
                initDomino();
            } else if (gameType === 'coming-soon') {
                alert('🎮 هذه اللعبة قيد التطوير وستكون متاحة قريباً!');
                showMainMenu();
            }
        }

        // === وظائف الشطرنج ===

        function initChess() {
            if (!chessEngine) {
                chessEngine = new SimpleChessEngine();
            }
            renderChessBoard();
            updateChessStatus();
            currentGame = 'chess';
        }

        function renderChessBoard() {
            const board = document.getElementById('chess-board');
            board.innerHTML = '';
            
            for (let row = 0; row < 8; row++) {
                for (let col = 0; col < 8; col++) {
                    const square = document.createElement('div');
                    square.className = `chess-square ${(row + col) % 2 === 0 ? 'light' : 'dark'}`;
                    square.textContent = chessEngine.board[row][col] || '';
                    square.onclick = () => handleChessSquareClick(row, col);
                    board.appendChild(square);
                }
            }
        }

        function handleChessSquareClick(row, col) {
            // منع اللاعب من اللعب في دور الكمبيوتر
            if (chessEngine.gameMode === 'computer' && chessEngine.currentPlayer === 'black') {
                return;
            }
            
            if (chessEngine.selectedSquare) {
                const [fromRow, fromCol] = chessEngine.selectedSquare;
                const targetPiece = chessEngine.board[row][col];
                
                if (chessEngine.makeMove(fromRow, fromCol, row, col)) {
                    chessEngine.selectedSquare = null;
                    
                    // تشغيل الصوت المناسب
                    if (targetPiece) {
                        playSound('capture'); // صوت الأسر
                    } else {
                        playSound('move'); // صوت الحركة العادية
                    }
                    
                    renderChessBoard();
                    updateChessStatus();
                    updateChessHints();
                    
                    // دور الكمبيوتر
                    if (chessEngine.gameMode === 'computer' && chessEngine.currentPlayer === 'black') {
                        setTimeout(() => {
                            makeComputerChessMove();
                        }, 1000);
                    }
                } else {
                    // حركة غير صالحة
                    chessEngine.selectedSquare = null;
                    renderChessBoard();
                }
            } else {
                const piece = chessEngine.board[row][col];
                if (piece && chessEngine.getPieceColor(piece) === chessEngine.currentPlayer) {
                    chessEngine.selectedSquare = [row, col];
                    playSound('select');
                    renderChessBoard();
                    
                    // تمييز المربع المحدد
                    const squares = document.querySelectorAll('.chess-square');
                    squares[row * 8 + col].classList.add('selected');
                }
            }
        }

        function makeComputerChessMove() {
            if (chessEngine.gameMode !== 'computer' || chessEngine.currentPlayer !== 'black') {
                return;
            }
            
            const aiMove = chessEngine.makeAIMove();
            if (aiMove) {
                // تشغيل الصوت المناسب
                if (aiMove.captured) {
                    playSound('capture');
                } else {
                    playSound('move');
                }
                
                renderChessBoard();
                updateChessStatus();
                updateChessHints();
                
                // فحص حالة الفوز
                if (chessEngine.isCheckmate()) {
                    playSound('win');
                    setTimeout(() => {
                        alert('🏆 الكمبيوتر فاز! كش مات!');
                    }, 500);
                } else if (chessEngine.isCheck()) {
                    alert('⚠️ كش!');
                }
            }
        }

        function updateChessStatus() {
            const currentPlayerText = chessEngine.currentPlayer === 'white' ? 'الأبيض' : 'الأسود';
            document.getElementById('chess-current-player').textContent = currentPlayerText;
            document.getElementById('chess-status').textContent = `دور ${currentPlayerText}`;
        }

        function resetChess() {
            chessEngine.reset();
            renderChessBoard();
            updateChessStatus();
            playSound('select');
        }

        function toggleChessMode() {
            const radios = document.querySelectorAll('input[name="chess-mode"]');
            const selectedMode = Array.from(radios).find(radio => radio.checked).value;
            chessEngine.gameMode = selectedMode;
            alert(`🎮 تم التبديل إلى وضع: ${selectedMode === 'computer' ? 'ضد الكمبيوتر' : 'مع صديق'}`);
        }

        function toggleChessLevel() {
            const levels = ['easy', 'medium', 'hard', 'expert'];
            const levelNames = ['سهل', 'متوسط', 'صعب', 'خبير'];
            const currentIndex = levels.indexOf(chessEngine.aiLevel);
            const nextIndex = (currentIndex + 1) % levels.length;
            
            chessEngine.aiLevel = levels[nextIndex];
            document.getElementById('chess-level').textContent = levelNames[nextIndex];
            alert(`⚡ تم تغيير المستوى إلى: ${levelNames[nextIndex]}`);
        }

        function showChessTutorial() {
            // دليل تعليمي شامل ومفصل للشطرنج
            const chessTutorialSections = [
                {
                    title: '♔ أساسيات الشطرنج',
                    content: `
🎯 الهدف الأساسي:
• إعطاء كش مات للملك الخصم
• الكش مات = الملك مهدد ولا يمكنه الهروب
• الفوز يحدث عندما لا توجد حركة قانونية للملك

🏁 بداية اللعبة:
• الأبيض يبدأ دائماً
• 16 قطعة لكل لاعب
• الملكة البيضاء على المربع الأبيض
• الملك في المنتصف بجانب الملكة

📋 قوانين أساسية:
• لا يمكن تحريك قطعة إذا كان ذلك يعرض ملكك للخطر
• يجب الإعلان عن "كش" عند تهديد الملك
• إذا لم تستطع الخروج من الكش = كش مات
                    `
                },
                {
                    title: '♟️ حركات القطع',
                    content: `
♔ الملك:
• يتحرك مربع واحد في أي اتجاه (8 اتجاهات)
• أهم قطعة - يجب حمايته دائماً
• لا يمكنه الدخول في مربع مهدد

♕ الملكة:
• أقوى قطعة - تجمع حركة القلعة والفيل
• تتحرك في أي اتجاه لأي مسافة
• قيمتها 9 نقاط

♖ القلعة:
• تتحرك أفقياً وعمودياً فقط
• لا تستطيع القفز فوق القطع
• قيمتها 5 نقاط

♗ الفيل:
• يتحرك قطرياً فقط
• فيل المربعات البيضاء يبقى على البيضاء دائماً
• قيمتها 3 نقاط

♘ الحصان:
• يتحرك على شكل L (مربعان + مربع جانبي)
• الوحيد الذي يقفز فوق القطع
• قيمتها 3 نقاط

♙ البيدق:
• يتحرك للأمام مربع واحد فقط
• في الحركة الأولى يمكنه التحرك مربعين
• يأكل قطرياً فقط
• قيمتها 1 نقطة
                    `
                },
                {
                    title: '🎯 حركات خاصة',
                    content: `
🏰 التبييت (Castling):
• حركة خاصة للملك والقلعة معاً
• شروط: لم يتحرك الملك أو القلعة من قبل
• لا توجد قطع بين الملك والقلعة
• الملك ليس في كش أو يمر بمربع مهدد

👻 En Passant:
• حركة خاصة للبيدق
• عندما يتحرك بيدق الخصم مربعين ويصبح بجانب بيدقك
• يمكنك أكله كأنه تحرك مربع واحد فقط
• يجب اللعب فوراً في الدور التالي

👑 ترقية البيدق:
• عندما يصل البيدق للصف الأخير
• يجب ترقيته لملكة أو قلعة أو فيل أو حصان
• عادة يُرقى لملكة (أقوى قطعة)
• يمكن أن يكون لديك أكثر من ملكة
                    `
                },
                {
                    title: '🧠 استراتيجيات للمبتدئين',
                    content: `
🎯 مبادئ الافتتاح:
• طور قطعك (الأحصنة والفيلة أولاً)
• سيطر على المركز (مربعات e4, e5, d4, d5)
• أمّن ملكك بالتبييت مبكراً
• لا تحرك نفس القطعة مرتين في الافتتاح

⚔️ تكتيكات أساسية:
• الشوكة: مهاجمة قطعتين بقطعة واحدة
• التسمير: منع قطعة من الحركة لحماية قطعة أهم
• الكشف المزدوج: كشف بقطعتين معاً
• الإغراء: جذب قطعة لمربع سيء

🏰 مبادئ الوسط:
• ابحث عن التكتيكات قبل الحركات الاستراتيجية
• حسّن مواضع قطعك
• اخلق نقاط ضعف في معسكر الخصم
• فكر في خطة واضحة

🏁 أساسيات النهاية:
• الملك يصبح قطعة قوية في النهاية
• البيادق المتقدمة خطيرة جداً
• تعلم النهايات الأساسية (ملك + ملكة ضد ملك)
• المركزة أهم من المادة أحياناً
                    `
                }
            ];

            let currentSection = 0;
            
            function showChessSection(index) {
                const section = chessTutorialSections[index];
                const isLast = index === chessTutorialSections.length - 1;
                const isFirst = index === 0;
                
                const message = `${section.title}\n\n${section.content}\n\n` +
                    `📄 القسم ${index + 1} من ${chessTutorialSections.length}\n\n` +
                    `${!isFirst ? '⬅️ السابق  ' : ''}${!isLast ? '➡️ التالي  ' : ''}✅ إنهاء`;
                
                const result = confirm(message + '\n\nاضغط OK للتالي، Cancel للسابق');
                
                if (result && !isLast) {
                    showChessSection(index + 1);
                } else if (!result && !isFirst) {
                    showChessSection(index - 1);
                }
            }
            
            showChessSection(0);
        }

        // === وظائف الطاولة ===

        function initBackgammon() {
            if (!backgammonEngine) {
                backgammonEngine = new SimpleBackgammonEngine();
            }
            renderBackgammonBoard();
            updateBackgammonStatus();
            currentGame = 'backgammon';
        }

        function renderBackgammonBoard() {
            const board = document.getElementById('backgammon-board');
            board.innerHTML = '';
            
            // إنشاء 24 نقطة
            for (let i = 1; i <= 24; i++) {
                const point = document.createElement('div');
                point.className = `backgammon-point ${i <= 12 ? 'top' : 'bottom'}`;
                point.onclick = () => handleBackgammonPointClick(i);
                
                const pointData = backgammonEngine.board[i];
                if (pointData && pointData.pieces > 0) {
                    for (let j = 0; j < Math.min(pointData.pieces, 5); j++) {
                        const piece = document.createElement('div');
                        piece.className = `backgammon-piece ${pointData.color}`;
                        point.appendChild(piece);
                    }
                    
                    if (pointData.pieces > 5) {
                        const counter = document.createElement('div');
                        counter.textContent = pointData.pieces;
                        counter.style.cssText = 'color: white; font-weight: bold; font-size: 0.8rem;';
                        point.appendChild(counter);
                    }
                }
                
                board.appendChild(point);
            }
        }

        function handleBackgammonPointClick(pointIndex) {
            // منطق بسيط للطاولة
            if (backgammonEngine.gameMode === 'computer' && backgammonEngine.currentPlayer === 'black') {
                return; // منع اللاعب من اللعب في دور الكمبيوتر
            }
            
            const moved = backgammonEngine.makeMove(pointIndex);
            if (moved) {
                playSound('move');
                renderBackgammonBoard();
                updateBackgammonStatus();
                updateBackgammonHints();
                
                // إذا كان الوضع ضد الكمبيوتر ودور الكمبيوتر
                if (backgammonEngine.gameMode === 'computer' && backgammonEngine.currentPlayer === 'black') {
                    setTimeout(() => {
                        makeComputerBackgammonMove();
                    }, 1000);
                }
            }
        }

        function makeComputerBackgammonMove() {
            if (backgammonEngine.gameMode !== 'computer' || backgammonEngine.currentPlayer !== 'black') {
                return;
            }
            
            const bestMove = backgammonEngine.getBestMove();
            if (bestMove) {
                backgammonEngine.makeMove(bestMove.from, bestMove.to);
                playSound('move');
                renderBackgammonBoard();
                updateBackgammonStatus();
                updateBackgammonHints();
                
                // إذا لم ينته دور الكمبيوتر، استمر في اللعب
                if (backgammonEngine.currentPlayer === 'black' && backgammonEngine.hasValidMoves()) {
                    setTimeout(() => {
                        makeComputerBackgammonMove();
                    }, 800);
                }
            }
        }

        function rollBackgammonDice() {
            // تشغيل صوت رمي النرد الواقعي
            playSound('dice_roll');
            
            // إضافة تأثير بصري للرمي
            const diceDisplay = document.getElementById('backgammon-dice');
            diceDisplay.innerHTML = '🎲 جاري الرمي...';
            diceDisplay.style.animation = 'shake 0.8s ease-in-out';
            
            setTimeout(() => {
                const dice = backgammonEngine.rollDice();
                
                // عرض النرد بالنقاط الحقيقية
                diceDisplay.innerHTML = createDiceHTML(dice[0]) + ' ' + createDiceHTML(dice[1]);
                diceDisplay.style.animation = '';
                
                updateBackgammonStatus();
                updateBackgammonHints();
                
                // إذا كان دور الكمبيوتر، ابدأ اللعب تلقائياً
                if (backgammonEngine.gameMode === 'computer' && backgammonEngine.currentPlayer === 'black') {
                    setTimeout(() => {
                        makeComputerBackgammonMove();
                    }, 1500);
                }
            }, 800);
        }

        function updateBackgammonStatus() {
            const currentPlayerText = backgammonEngine.currentPlayer === 'white' ? 'الأبيض' : 'الأسود';
            document.getElementById('backgammon-current-player').textContent = currentPlayerText;
            document.getElementById('backgammon-status').textContent = `دور ${currentPlayerText}`;
        }

        function resetBackgammon() {
            backgammonEngine.reset();
            document.getElementById('backgammon-dice').textContent = '🎲 🎲';
            renderBackgammonBoard();
            updateBackgammonStatus();
            playSound('select');
        }

        function toggleBackgammonMode() {
            const radios = document.querySelectorAll('input[name="backgammon-mode"]');
            const selectedMode = Array.from(radios).find(radio => radio.checked).value;
            backgammonEngine.gameMode = selectedMode;
            alert(`🎮 تم التبديل إلى وضع: ${selectedMode === 'computer' ? 'ضد الكمبيوتر' : 'مع صديق'}`);
        }

        function toggleBackgammonLevel() {
            const levels = ['easy', 'medium', 'hard', 'expert'];
            const levelNames = ['سهل', 'متوسط', 'صعب', 'خبير'];
            const currentIndex = levels.indexOf(backgammonEngine.aiLevel);
            const nextIndex = (currentIndex + 1) % levels.length;
            
            backgammonEngine.aiLevel = levels[nextIndex];
            document.getElementById('backgammon-level').textContent = levelNames[nextIndex];
            alert(`⚡ تم تغيير المستوى إلى: ${levelNames[nextIndex]}`);
        }

        function toggleBackgammonVariant() {
            const variants = Object.keys(backgammonEngine.gameVariants);
            const currentIndex = variants.indexOf(backgammonEngine.gameVariant);
            const nextIndex = (currentIndex + 1) % variants.length;
            const nextVariant = variants[nextIndex];
            
            backgammonEngine.setGameVariant(nextVariant);
            const variantName = backgammonEngine.gameVariants[nextVariant].name;
            const variantDescription = backgammonEngine.gameVariants[nextVariant].description;
            
            document.getElementById('backgammon-variant').textContent = variantName;
            renderBackgammonBoard();
            
            // عرض رسالة تفصيلية عن نوع اللعبة
            const message = `🎯 تم التبديل إلى: ${variantName}\n\n📝 ${variantDescription}\n\n`;
            
            switch(nextVariant) {
                case 'standard':
                    alert(message + '🎮 القوانين:\n• يمكن أسر القطع المعزولة\n• القطع المأسورة تذهب للبار\n• يجب إدخال القطع المأسورة أولاً\n• الفوز بإنزال جميع القطع');
                    break;
                case 'plakoto':
                    alert(message + '🎮 القوانين:\n• لا يمكن أسر القطع\n• القطع المحاصرة تبقى في مكانها\n• التركيز على السباق والحصار\n• استراتيجية مختلفة تماماً');
                    break;
                case 'fevga':
                    alert(message + '🎮 القوانين:\n• لا يمكن بناء أكثر من نقطة متتالية\n• منع الحصار الطويل\n• لعبة سريعة ومثيرة\n• تحتاج تخطيط دقيق');
                    break;
                case 'narde':
                    alert(message + '🎮 القوانين:\n• جميع القطع تتحرك في اتجاه واحد\n• لا يمكن أسر القطع\n• بداية مختلفة للقطع\n• استراتيجية فريدة');
                    break;
            }
        }

        function showBackgammonTutorial() {
            // دليل تعليمي شامل ومفصل للطاولة
            const tutorialSections = [
                {
                    title: '🎯 أساسيات الطاولة',
                    content: `
📋 الهدف الأساسي:
• نقل جميع قطعك (15 قطعة) إلى البيت (الربع الأخير)
• ثم إنزال جميع القطع من اللوحة
• أول من ينزل جميع قطعه يفوز

🎲 كيفية اللعب:
• ارم النردين واحصل على رقمين
• حرك قطعك حسب الأرقام الظاهرة
• يمكن تحريك قطعة واحدة بمجموع الرقمين
• أو تحريك قطعتين منفصلتين

📍 اتجاه الحركة:
• الأبيض: من 1 إلى 24 (عكس عقارب الساعة)
• الأسود: من 24 إلى 1 (مع عقارب الساعة)
                    `
                },
                {
                    title: '⚔️ قوانين الأسر والحماية',
                    content: `
🎯 الأسر (في الطاولة العادية):
• يمكن أسر قطعة واحدة معزولة فقط
• القطعة المأسورة تذهب إلى البار (الوسط)
• يجب إدخال القطع المأسورة قبل تحريك أي قطعة أخرى

🛡️ الحماية:
• قطعتان أو أكثر في نفس النقطة = حماية
• لا يمكن للخصم الهبوط على نقطة محمية
• استخدم الحماية لبناء استراتيجيتك

🚪 الدخول من البار:
• ارم النرد واحصل على رقم يطابق نقطة فارغة أو بها قطعة واحدة للخصم
• إذا لم تستطع الدخول، تفقد دورك
• الأولوية للدخول قبل أي حركة أخرى
                    `
                },
                {
                    title: '🏠 الإنزال والفوز',
                    content: `
📥 شروط الإنزال:
• يجب أن تكون جميع قطعك في البيت (النقاط 19-24 للأبيض، 1-6 للأسود)
• لا يمكن الإنزال إذا كان لديك قطع خارج البيت أو في البار

🎲 كيفية الإنزال:
• ارم النرد واستخدم الأرقام لإنزال القطع
• الرقم 6 ينزل من النقطة 6، الرقم 5 من النقطة 5، وهكذا
• إذا لم توجد قطع في النقطة المطابقة، حرك قطعة من نقطة أعلى

🏆 أنواع الفوز:
• فوز عادي: الخصم أنزل بعض القطع
• جامون: الخصم لم ينزل أي قطعة (نقطتان)
• باك جامون: الخصم لم ينزل أي قطعة ولديه قطع في بيتك (3 نقاط)
                    `
                },
                {
                    title: '🧠 استراتيجيات متقدمة',
                    content: `
🎯 استراتيجية السباق:
• عندما لا توجد قطع متلامسة
• ركز على تحريك القطع الخلفية بسرعة
• احسب النقاط (pip count) لمعرفة من يتقدم

🏰 استراتيجية الحصار:
• ابن نقاط متتالية لمنع تقدم الخصم
• ركز على النقاط 7، 8، 9 (golden points)
• اتركه يأسر قطعك إذا كان ذلك يخدم استراتيجيتك

⚖️ استراتيجية التوازن:
• وازن بين الهجوم والدفاع
• لا تترك قطع معزولة بلا ضرورة
• فكر في كل حركة: هل تحسن موقعك أم تضعفه؟

🎲 استخدام النرد:
• الأرقام الكبيرة (4،5،6): لتحريك القطع الخلفية
• الأرقام الصغيرة (1،2،3): لبناء النقاط والحماية
• الدبل: فرصة ذهبية، استغلها بحكمة
                    `
                }
            ];

            let currentSection = 0;
            
            function showSection(index) {
                const section = tutorialSections[index];
                const isLast = index === tutorialSections.length - 1;
                const isFirst = index === 0;
                
                const message = `${section.title}\n\n${section.content}\n\n` +
                    `📄 القسم ${index + 1} من ${tutorialSections.length}\n\n` +
                    `${!isFirst ? '⬅️ السابق  ' : ''}${!isLast ? '➡️ التالي  ' : ''}✅ إنهاء`;
                
                const result = confirm(message + '\n\nاضغط OK للتالي، Cancel للسابق');
                
                if (result && !isLast) {
                    showSection(index + 1);
                } else if (!result && !isFirst) {
                    showSection(index - 1);
                }
            }
            
            showSection(0);
        }

        // === وظائف الدومينو ===

        function initDomino() {
            if (!dominoEngine) {
                dominoEngine = new SimpleDominoEngine();
            }
            renderDominoGame();
            currentGame = 'domino';
        }

        function renderDominoGame() {
            renderDominoBoard();
            renderPlayerHand();
            updateDominoStatus();
        }

        function renderDominoBoard() {
            const container = document.getElementById('domino-tiles-container');
            container.innerHTML = '';
            
            if (dominoEngine.board.length === 0) {
                container.innerHTML = '<div style="color: #4ECDC4; font-size: 1.2rem;">ضع أول قطعة لبدء اللعب</div>';
                return;
            }
            
            dominoEngine.board.forEach((tile, index) => {
                const tileElement = document.createElement('div');
                tileElement.className = 'domino-tile';
                tileElement.style.cssText = `
                    background: white;
                    border: 2px solid #333;
                    border-radius: 8px;
                    width: 50px;
                    height: 25px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-weight: bold;
                    color: #333;
                    font-size: 0.9rem;
                    margin: 2px;
                    box-shadow: 0 2px 5px rgba(0,0,0,0.3);
                `;
                
                if (tile.isDouble) {
                    tileElement.style.transform = 'rotate(90deg)';
                    tileElement.style.height = '50px';
                    tileElement.style.width = '25px';
                }
                
                tileElement.textContent = `${tile.left}|${tile.right}`;
                container.appendChild(tileElement);
            });
        }

        function renderPlayerHand() {
            const handContainer = document.getElementById('player-hand');
            handContainer.innerHTML = '';
            
            dominoEngine.playerHand.forEach((tile, index) => {
                const tileElement = document.createElement('div');
                tileElement.className = 'domino-tile player-tile';
                tileElement.style.cssText = `
                    background: linear-gradient(145deg, #f0f0f0, #e0e0e0);
                    border: 2px solid #333;
                    border-radius: 8px;
                    width: 60px;
                    height: 30px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-weight: bold;
                    color: #333;
                    font-size: 1rem;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    box-shadow: 0 3px 8px rgba(0,0,0,0.3);
                `;
                
                tileElement.textContent = `${tile.left}|${tile.right}`;
                tileElement.onclick = () => selectDominoTile(index);
                
                tileElement.onmouseover = () => {
                    tileElement.style.transform = 'translateY(-5px) scale(1.05)';
                    tileElement.style.boxShadow = '0 5px 15px rgba(76, 205, 196, 0.5)';
                };
                
                tileElement.onmouseout = () => {
                    tileElement.style.transform = 'translateY(0) scale(1)';
                    tileElement.style.boxShadow = '0 3px 8px rgba(0,0,0,0.3)';
                };
                
                handContainer.appendChild(tileElement);
            });
        }

        function selectDominoTile(index) {
            if (dominoEngine.currentPlayer !== 'player') return;
            
            const tile = dominoEngine.playerHand[index];
            const validMoves = dominoEngine.getValidMoves([tile]);
            
            if (validMoves.length > 0) {
                const move = validMoves[0];
                dominoEngine.makeMove(move);
                playSound('move');
                renderDominoGame();
                
                // دور الكمبيوتر
                if (dominoEngine.gameMode === 'computer' && dominoEngine.currentPlayer === 'computer') {
                    setTimeout(() => {
                        dominoEngine.makeAIMove();
                        renderDominoGame();
                    }, 1000);
                }
            } else {
                alert('لا يمكن لعب هذه القطعة. جرب قطعة أخرى أو اسحب من المخزون.');
            }
        }

        function drawTileDomino() {
            if (dominoEngine.drawTile()) {
                playSound('move');
                renderDominoGame();
            } else {
                alert('لا توجد قطع في المخزون!');
            }
        }

        function updateDominoStatus() {
            document.getElementById('player-tiles-count').textContent = `${dominoEngine.playerHand.length} قطع`;
            document.getElementById('computer-tiles-count').textContent = `${dominoEngine.computerHand.length} قطع`;
            document.getElementById('stock-tiles-count').textContent = `${dominoEngine.tiles.length} قطعة`;
            
            const currentPlayerText = dominoEngine.currentPlayer === 'player' ? 'اللاعب' : 'الكمبيوتر';
            document.getElementById('domino-current-player').textContent = currentPlayerText;
            
            if (dominoEngine.gameStatus === 'finished') {
                const winner = dominoEngine.winner;
                if (winner === 'player') {
                    document.getElementById('domino-status').textContent = '🎉 مبروك! لقد فزت!';
                } else if (winner === 'computer') {
                    document.getElementById('domino-status').textContent = '😔 فاز الكمبيوتر. حاول مرة أخرى!';
                } else {
                    document.getElementById('domino-status').textContent = '🤝 تعادل! لعبة ممتازة!';
                }
            } else {
                if (dominoEngine.currentPlayer === 'player') {
                    document.getElementById('domino-status').textContent = 'دورك - اختر قطعة للعب';
                } else {
                    document.getElementById('domino-status').textContent = 'دور الكمبيوتر - يفكر...';
                }
            }
        }

        function resetDomino() {
            dominoEngine.reset();
            renderDominoGame();
            playSound('select');
        }

        function toggleDominoMode() {
            const radios = document.querySelectorAll('input[name="domino-mode"]');
            const selectedMode = Array.from(radios).find(radio => radio.checked).value;
            dominoEngine.gameMode = selectedMode;
            alert(`🎮 تم التبديل إلى وضع: ${selectedMode === 'computer' ? 'ضد الكمبيوتر' : 'مع صديق'}`);
            resetDomino();
        }

        function toggleDominoLevel() {
            const levels = ['easy', 'medium', 'hard', 'expert'];
            const levelNames = ['سهل', 'متوسط', 'صعب', 'خبير'];
            const currentIndex = levels.indexOf(dominoEngine.aiLevel);
            const nextIndex = (currentIndex + 1) % levels.length;
            
            dominoEngine.aiLevel = levels[nextIndex];
            document.getElementById('domino-level-btn').textContent = levelNames[nextIndex];
            alert(`⚡ تم تغيير المستوى إلى: ${levelNames[nextIndex]}`);
        }

        function showDominoTutorial() {
            // دليل تعليمي شامل ومفصل للدومينو
            const dominoTutorialSections = [
                {
                    title: '⚀ أساسيات الدومينو',
                    content: `
🎯 الهدف الأساسي:
• تفريغ جميع قطعك قبل الخصم
• إذا لم يستطع أحد اللعب = من لديه نقاط أقل يفوز
• النقاط = مجموع النقاط على القطع المتبقية

🎲 مكونات اللعبة:
• 28 قطعة دومينو من 0|0 إلى 6|6
• كل رقم يظهر 8 مرات في المجموعة
• القطع المزدوجة: 0|0, 1|1, 2|2... 6|6 (7 قطع)
• القطع المختلطة: 0|1, 0|2... 5|6 (21 قطعة)

🏁 بداية اللعبة:
• كل لاعب يأخذ 7 قطع
• الباقي يبقى في المخزون (بونيارد)
• من لديه أعلى مزدوج يبدأ (عادة 6|6)
• إذا لم يوجد مزدوج، أعلى قطعة تبدأ
                    `
                },
                {
                    title: '🎮 قوانين اللعب',
                    content: `
🔗 كيفية وضع القطع:
• يجب أن يتطابق أحد طرفي قطعتك مع طرف على الطاولة
• يمكن الوضع على أي من الطرفين المفتوحين
• القطع المزدوجة توضع عمودياً
• القطع العادية توضع أفقياً

📥 السحب من المخزون:
• إذا لم تستطع اللعب، اسحب قطعة من المخزون
• استمر في السحب حتى تجد قطعة قابلة للعب
• إذا انتهى المخزون ولم تستطع اللعب، مرر الدور

🚫 انتهاء اللعبة:
• عندما يفرغ أحد اللاعبين جميع قطعه
• أو عندما لا يستطيع أي لاعب اللعب (مسدود)
• في حالة الانسداد، من لديه نقاط أقل يفوز

🏆 حساب النقاط:
• الفائز يحصل على مجموع نقاط قطع الخصم
• في حالة الانسداد، الفرق بين النقاط
• اللعب عادة حتى 100 أو 500 نقطة
                    `
                },
                {
                    title: '🧠 استراتيجيات أساسية',
                    content: `
🎯 استراتيجية الأرقام:
• احتفظ بتنوع في الأرقام
• لا تتخلص من جميع قطع رقم واحد مبكراً
• راقب الأرقام التي يلعبها الخصم كثيراً

🔒 استراتيجية الحصار:
• حاول منع الخصم من اللعب
• العب القطع التي تجبره على السحب
• احتفظ بالقطع المزدوجة للحظات الحاسمة

📊 عد القطع:
• تذكر القطع التي لُعبت
• احسب ما تبقى من كل رقم
• استخدم هذه المعلومات لتوقع قطع الخصم

🎲 استراتيجية المزدوجات:
• المزدوجات قوية لأنها تحتاج رقم واحد فقط
• استخدمها لتغيير اتجاه اللعبة
• احتفظ بها عندما تكون متأكداً من وجود الرقم

⚡ نصائح متقدمة:
• العب القطع الثقيلة (نقاط عالية) مبكراً
• راقب تعبيرات الخصم عند السحب
• في النهاية، احسب النقاط قبل اللعب
• أحياناً عدم اللعب أفضل من اللعب
                    `
                },
                {
                    title: '🏆 أنواع الدومينو',
                    content: `
🎯 الدومينو التقليدي (Block):
• النوع الأساسي الذي نلعبه
• لا يوجد سحب - إذا لم تستطع اللعب، مرر
• اللعبة تنتهي عند الانسداد أو إفراغ القطع

🎲 دومينو السحب (Draw):
• يمكن السحب من المخزون عند عدم القدرة على اللعب
• استمر في السحب حتى تجد قطعة أو ينتهي المخزون
• أكثر الأنواع شيوعاً

🔄 الدومينو المكسيكي:
• يبدأ بمزدوج في المنتصف
• يمكن اللعب على 8 اتجاهات
• قوانين خاصة للمزدوجات

🌟 دومينو الكل الخمسات:
• نقاط إضافية عندما تكون أطراف الطاولة مضاعفات 5
• استراتيجية مختلفة تركز على الحساب
• يحتاج مهارة رياضية أكثر

🎪 نصائح للمبتدئين:
• ابدأ بالدومينو التقليدي
• تدرب على عد القطع
• لا تستعجل - فكر في كل حركة
• تعلم من أخطائك
• العب مع خصوم أقوى لتتحسن
                    `
                }
            ];

            let currentSection = 0;
            
            function showDominoSection(index) {
                const section = dominoTutorialSections[index];
                const isLast = index === dominoTutorialSections.length - 1;
                const isFirst = index === 0;
                
                const message = `${section.title}\n\n${section.content}\n\n` +
                    `📄 القسم ${index + 1} من ${dominoTutorialSections.length}\n\n` +
                    `${!isFirst ? '⬅️ السابق  ' : ''}${!isLast ? '➡️ التالي  ' : ''}✅ إنهاء`;
                
                const result = confirm(message + '\n\nاضغط OK للتالي، Cancel للسابق');
                
                if (result && !isLast) {
                    showDominoSection(index + 1);
                } else if (!result && !isFirst) {
                    showDominoSection(index - 1);
                }
            }
            
            showDominoSection(0);
        }document.addEventListener('DOMContentLoaded', function() {
            detectSmartTV();
            
            // إضافة مستمعي الأحداث للأزرار الراديو
            document.querySelectorAll('input[type="radio"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    playSound('select');
                });
            });
        });
    </script>
</body>
</html>
