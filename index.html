<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ® Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠ ğŸ¯</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Cairo', sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            color: white;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 50px;
            animation: fadeInDown 1s ease-out;
        }

        .header h1 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            background: linear-gradient(45deg, #FFD700, #FFA500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }

        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 50px;
        }

        .game-card {
            background: linear-gradient(145deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            transition: all 0.3s ease;
            cursor: pointer;
            animation: fadeInUp 0.8s ease-out;
        }

        .game-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            background: linear-gradient(145deg, rgba(255,255,255,0.2), rgba(255,255,255,0.1));
        }

        .game-card.focused {
            transform: translateY(-10px);
            box-shadow: 0 0 30px #FFD700;
            border: 2px solid #FFD700;
        }

        .game-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            display: block;
        }

        .game-title {
            font-size: 1.8rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: #FFD700;
        }

        .game-description {
            font-size: 1rem;
            opacity: 0.8;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .play-button {
            background: linear-gradient(45deg, #FF6B6B, #4ECDC4);
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            color: white;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Cairo', sans-serif;
        }

        .play-button:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .features {
            background: linear-gradient(145deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .features h2 {
            text-align: center;
            font-size: 2rem;
            margin-bottom: 30px;
            color: #FFD700;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .feature-item {
            text-align: center;
            padding: 20px;
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
        }

        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            display: block;
        }

        .controls {
            background: linear-gradient(145deg, rgba(0,255,0,0.1), rgba(0,200,0,0.05));
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            text-align: center;
        }

        .controls h3 {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: #90EE90;
        }

        .control-keys {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .key {
            background: rgba(255,255,255,0.2);
            padding: 10px 15px;
            border-radius: 10px;
            font-weight: 600;
            border: 1px solid rgba(255,255,255,0.3);
        }

        .footer {
            text-align: center;
            padding: 30px;
            border-top: 1px solid rgba(255,255,255,0.2);
            margin-top: 50px;
        }

        .game-area {
            display: none;
            background: rgba(255,255,255,0.1);
            border-radius: 20px;
            padding: 30px;
            margin-top: 30px;
            backdrop-filter: blur(10px);
        }

        .game-area.active {
            display: block;
            animation: fadeIn 0.5s ease-out;
        }

        .back-button {
            background: linear-gradient(45deg, #FF4757, #FF3838);
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            margin-bottom: 20px;
            font-family: 'Cairo', sans-serif;
        }

        .chess-board {
            display: grid;
            grid-template-columns: repeat(8, 60px);
            grid-template-rows: repeat(8, 60px);
            gap: 2px;
            margin: 20px auto;
            border: 4px solid #8B4513;
            border-radius: 10px;
            background: #8B4513;
        }

        .chess-square {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .chess-square.light {
            background: #F0D9B5;
            color: #333;
        }

        .chess-square.dark {
            background: #B58863;
            color: #333;
        }

        .chess-square.selected {
            box-shadow: inset 0 0 0 3px #FFD700;
        }

        .chess-square.possible-move {
            box-shadow: inset 0 0 0 3px #FF4757;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .backgammon-point {
            border-radius: 0 0 50px 50px;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding: 5px;
            min-height: 200px;
        }

        .backgammon-point:nth-child(n+14) {
            border-radius: 50px 50px 0 0;
            justify-content: flex-end;
        }

        .backgammon-point.selected {
            box-shadow: inset 0 0 0 3px #FFD700;
        }

        .backgammon-point.possible-move {
            box-shadow: inset 0 0 0 3px #FF4757;
        }

        .backgammon-piece {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            margin: 1px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.8rem;
            border: 2px solid rgba(0,0,0,0.3);
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .backgammon-piece.white {
            background: linear-gradient(45deg, #FFFFFF, #F0F0F0);
            color: #333;
        }

        .backgammon-piece.black {
            background: linear-gradient(45deg, #333333, #111111);
            color: white;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .games-grid {
                grid-template-columns: 1fr;
            }
            
            .chess-board {
                grid-template-columns: repeat(8, 40px);
                grid-template-rows: repeat(8, 40px);
            }
            
            .chess-square {
                font-size: 1.5rem;
            }

            #backgammon-board {
                width: 100% !important;
                max-width: 600px;
                height: 400px !important;
            }
            
            .backgammon-piece {
                width: 20px;
                height: 20px;
                font-size: 0.6rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>ğŸ® Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠ ğŸ¯</h1>
            <p>Ø£Ù„Ø¹Ø§Ø¨ Ø°ÙƒÙŠØ© ÙˆÙ…Ù…ØªØ¹Ø© Ù„Ù„ÙƒØ¨Ø§Ø± ÙˆØ§Ù„ØµØºØ§Ø± - Ù…Ø¹ Ø¯Ø¹Ù… ÙƒØ§Ù…Ù„ Ù„Ù„Ø±ÙŠÙ…ÙˆØª ÙƒÙ†ØªØ±ÙˆÙ„</p>
        </header>

        <div id="main-menu">
            <div class="games-grid">
                <div class="game-card" data-game="chess" tabindex="0">
                    <span class="game-icon">â™”</span>
                    <h3 class="game-title">Ø§Ù„Ø´Ø·Ø±Ù†Ø¬</h3>
                    <p class="game-description">Ù„Ø¹Ø¨Ø© Ø§Ù„Ù…Ù„ÙˆÙƒ ÙˆØ§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ù…Ø¹ Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù…ØªÙ‚Ø¯Ù… ÙˆØ¯Ø±ÙˆØ³ ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø´Ø§Ù…Ù„Ø©</p>
                    <button class="play-button">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨</button>
                </div>

                <div class="game-card" data-game="backgammon" tabindex="0">
                    <span class="game-icon">âš«</span>
                    <h3 class="game-title">Ø§Ù„Ø·Ø§ÙˆÙ„Ø©</h3>
                    <p class="game-description">Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„Ø´Ø±Ù‚ÙŠØ© Ø§Ù„Ø£ØµÙŠÙ„Ø© Ù…Ø¹ Ù…Ø­Ø§ÙƒØ§Ø© ÙˆØ§Ù‚Ø¹ÙŠØ© Ù„Ù„Ù†Ø±Ø¯ ÙˆØ°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø°ÙƒÙŠ</p>
                    <button class="play-button">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨</button>
                </div>

                <div class="game-card" data-game="domino" tabindex="0">
                    <span class="game-icon">âš€</span>
                    <h3 class="game-title">Ø§Ù„Ø¯ÙˆÙ…ÙŠÙ†Ùˆ</h3>
                    <p class="game-description">Ù„Ø¹Ø¨Ø© Ø§Ù„ØªÙÙƒÙŠØ± ÙˆØ§Ù„ØªØ®Ø·ÙŠØ· Ù…Ø¹ 28 Ù‚Ø·Ø¹Ø© ÙƒØ§Ù…Ù„Ø© ÙˆØ°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù…ØªØ·ÙˆØ±</p>
                    <button class="play-button">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨</button>
                </div>

                <div class="game-card" data-game="spaceshooter" tabindex="0">
                    <span class="game-icon">ğŸš€</span>
                    <h3 class="game-title">Ø­Ø±Ø¨ Ø§Ù„Ù†Ø¬ÙˆÙ…</h3>
                    <p class="game-description">Ù…ØºØ§Ù…Ø±Ø© ÙØ¶Ø§Ø¦ÙŠØ© Ù…Ø«ÙŠØ±Ø© Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„Ø£Ø·ÙØ§Ù„ Ù…Ù† 3 Ø³Ù†ÙˆØ§Øª Ù…Ø¹ Ø±Ø³ÙˆÙ…ÙŠØ§Øª Ø¬Ù…ÙŠÙ„Ø©</p>
                    <button class="play-button">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù…ØºØ§Ù…Ø±Ø©</button>
                </div>

                <div class="game-card" data-game="carracing" tabindex="0">
                    <span class="game-icon">ğŸï¸</span>
                    <h3 class="game-title">Ø³Ø¨Ø§Ù‚ Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª</h3>
                    <p class="game-description">Ø³Ø±Ø¹Ø© ÙˆØ¥Ø«Ø§Ø±Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø·Ø±ÙŠÙ‚ Ù…Ø¹ ÙÙŠØ²ÙŠØ§Ø¡ ÙˆØ§Ù‚Ø¹ÙŠØ© ÙˆØ³Ù‡ÙˆÙ„Ø© ÙÙŠ Ø§Ù„ØªØ­ÙƒÙ…</p>
                    <button class="play-button">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø³Ø¨Ø§Ù‚</button>
                </div>

                <div class="game-card" data-game="coming-soon" tabindex="0">
                    <span class="game-icon">ğŸ²</span>
                    <h3 class="game-title">Ø§Ù„Ù…Ø²ÙŠØ¯ Ù‚Ø±ÙŠØ¨Ø§Ù‹</h3>
                    <p class="game-description">Ù†Ø¹Ù…Ù„ Ø¹Ù„Ù‰ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© ÙˆØ§Ù„Ù…Ù…ØªØ¹Ø©</p>
                    <button class="play-button" disabled>Ù‚Ø±ÙŠØ¨Ø§Ù‹</button>
                </div>
            </div>

            <div class="features">
                <h2>âœ¨ Ù…ÙŠØ²Ø§Øª Ø®Ø§ØµØ© âœ¨</h2>
                <div class="features-grid">
                    <div class="feature-item">
                        <span class="feature-icon">ğŸ“º</span>
                        <h4>Ø¯Ø¹Ù… Ø§Ù„ØªÙ„ÙØ²ÙŠÙˆÙ† Ø§Ù„Ø°ÙƒÙŠ</h4>
                        <p>Ø§Ù„Ø¹Ø¨ Ø¨Ø±ÙŠÙ…ÙˆØª Ø§Ù„ØªÙ„ÙØ²ÙŠÙˆÙ† Ø¨Ø³Ù‡ÙˆÙ„Ø© ØªØ§Ù…Ø©</p>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon">ğŸ¤–</span>
                        <h4>Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù…ØªÙ‚Ø¯Ù…</h4>
                        <p>Ø®ØµÙ… Ø°ÙƒÙŠ ÙŠØªØ­Ø¯Ù‰ Ù…Ù‡Ø§Ø±Ø§ØªÙƒ</p>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon">ğŸ”Š</span>
                        <h4>Ø£ØµÙˆØ§Øª ÙˆØ§Ù‚Ø¹ÙŠØ©</h4>
                        <p>ØªØ£Ø«ÙŠØ±Ø§Øª ØµÙˆØªÙŠØ© Ù…Ù…ÙŠØ²Ø© Ù„ÙƒÙ„ Ù„Ø¹Ø¨Ø©</p>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon">ğŸ“š</span>
                        <h4>Ø¯Ø±ÙˆØ³ ØªØ¹Ù„ÙŠÙ…ÙŠØ©</h4>
                        <p>ØªØ¹Ù„Ù… Ù…Ù† Ø§Ù„ØµÙØ± Ø­ØªÙ‰ Ø§Ù„Ø§Ø­ØªØ±Ø§Ù</p>
                    </div>
                </div>
            </div>

            <div class="controls">
                <h3>ğŸ® ÙƒÙŠÙÙŠØ© Ø§Ù„ØªØ­ÙƒÙ… Ø¨Ø§Ù„Ø±ÙŠÙ…ÙˆØª</h3>
                <div class="control-keys">
                    <span class="key">â¬…ï¸â¡ï¸â¬†ï¸â¬‡ï¸ Ø§Ù„Ø£Ø³Ù‡Ù… Ù„Ù„ØªÙ†Ù‚Ù„</span>
                    <span class="key">âœ… OK Ù„Ù„Ø§Ø®ØªÙŠØ§Ø±</span>
                    <span class="key">ğŸ”™ Back Ù„Ù„Ø±Ø¬ÙˆØ¹</span>
                    <span class="key">ğŸ  Home Ù„Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
                </div>
            </div>
        </div>

        <!-- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ -->
        <div id="chess-game" class="game-area">
            <button class="back-button" onclick="showMainMenu()">ğŸ”™ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
            <h2 style="text-align: center; margin-bottom: 20px;">â™” Ù„Ø¹Ø¨Ø© Ø§Ù„Ø´Ø·Ø±Ù†Ø¬ â™›</h2>
            <div style="text-align: center; margin-bottom: 20px;">
                <button onclick="resetChess()" style="background: linear-gradient(45deg, #4ECDC4, #44A08D); border: none; padding: 10px 20px; border-radius: 20px; color: white; font-weight: 600; cursor: pointer; margin: 0 10px; font-family: 'Cairo', sans-serif;">ğŸ”„ Ù„Ø¹Ø¨Ø© Ø¬Ø¯ÙŠØ¯Ø©</button>
                <button onclick="toggleChessMode()" style="background: linear-gradient(45deg, #FF6B6B, #4ECDC4); border: none; padding: 10px 20px; border-radius: 20px; color: white; font-weight: 600; cursor: pointer; margin: 0 10px; font-family: 'Cairo', sans-serif;">ğŸ¤– ÙˆØ¶Ø¹ Ø§Ù„Ù„Ø¹Ø¨</button>
                <button onclick="toggleChessLevel()" style="background: linear-gradient(45deg, #9C27B0, #673AB7); border: none; padding: 10px 20px; border-radius: 20px; color: white; font-weight: 600; cursor: pointer; margin: 0 10px; font-family: 'Cairo', sans-serif;">âš¡ Ø§Ù„Ù…Ø³ØªÙˆÙ‰</button>
                <button onclick="chessTutorial.showTutorial()" style="background: linear-gradient(45deg, #FFD700, #FFA000); border: none; padding: 10px 20px; border-radius: 20px; color: white; font-weight: 600; cursor: pointer; margin: 0 10px; font-family: 'Cairo', sans-serif;">ğŸ“š Ø§Ù„Ø¯Ù„ÙŠÙ„ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠ</button>
                <button onclick="toggleSound()" style="background: linear-gradient(45deg, #FFA726, #FF7043); border: none; padding: 10px 20px; border-radius: 20px; color: white; font-weight: 600; cursor: pointer; margin: 0 10px; font-family: 'Cairo', sans-serif;">ğŸ”Š Ø§Ù„ØµÙˆØª</button>
            </div>
            <div class="chess-board" id="chess-board"></div>
            <div style="text-align: center; margin-top: 20px;">
                <p id="game-status" style="font-size: 1.2rem; font-weight: 600;">Ø¯ÙˆØ± Ø§Ù„Ø£Ø¨ÙŠØ¶</p>
            </div>

            <!-- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù†ØµØ§Ø¦Ø­ ÙˆØ§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª -->
            <div id="chess-hints-area" style="margin-top: 20px; padding: 20px; background: rgba(255,255,255,0.1); border-radius: 15px; min-height: 100px;">
                <h3 style="margin: 0 0 15px 0; color: #FFD700; font-size: 1.2rem; text-align: center;">ğŸ’¡ Ø§Ù„Ù†ØµØ§Ø¦Ø­ ÙˆØ§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª</h3>
                <div id="chess-current-hint" style="margin-bottom: 15px; padding: 10px; background: rgba(255,255,255,0.1); border-radius: 10px; text-align: center; min-height: 40px; display: flex; align-items: center; justify-content: center;">
                    <p style="margin: 0; color: #4ECDC4;">Ø§Ø®ØªØ± Ù‚Ø·Ø¹Ø© Ù„Ø±Ø¤ÙŠØ© Ø§Ù„Ù†ØµØ§Ø¦Ø­ ÙˆØ§Ù„Ø­Ø±ÙƒØ§Øª Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©</p>
                </div>
                <div id="chess-suggestions" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px;">
                    <!-- Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
                </div>
            </div>
        </div>

        <!-- ÙˆØ§Ø¬Ù‡Ø© Ù„Ø¹Ø¨Ø© Ø§Ù„Ø·Ø§ÙˆÙ„Ø© -->
        <div id="backgammon-game" class="game-area">
            <button class="back-button" onclick="showMainMenu()">ğŸ”™ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
            <h2 style="text-align: center; margin-bottom: 20px;">âš« Ù„Ø¹Ø¨Ø© Ø§Ù„Ø·Ø§ÙˆÙ„Ø© âšª</h2>
            
            <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… -->
            <div style="text-align: center; margin-bottom: 20px;">
                <button onclick="resetBackgammon()" style="background: linear-gradient(45deg, #4ECDC4, #44A08D); border: none; padding: 10px 20px; border-radius: 20px; color: white; font-weight: 600; cursor: pointer; margin: 0 10px; font-family: 'Cairo', sans-serif;">ğŸ”„ Ù„Ø¹Ø¨Ø© Ø¬Ø¯ÙŠØ¯Ø©</button>
                <button onclick="rollDiceBackgammon()" id="roll-dice-btn" style="background: linear-gradient(45deg, #FF6B6B, #4ECDC4); border: none; padding: 10px 20px; border-radius: 20px; color: white; font-weight: 600; cursor: pointer; margin: 0 10px; font-family: 'Cairo', sans-serif;">ğŸ² Ø±Ù…ÙŠ Ø§Ù„Ù†Ø±Ø¯</button>
                <button onclick="toggleBackgammonMode()" style="background: linear-gradient(45deg, #FFA726, #FF7043); border: none; padding: 10px 20px; border-radius: 20px; color: white; font-weight: 600; cursor: pointer; margin: 0 10px; font-family: 'Cairo', sans-serif;">ğŸ¤– ÙˆØ¶Ø¹ Ø§Ù„Ù„Ø¹Ø¨</button>
                <button onclick="toggleBackgammonLevel()" style="background: linear-gradient(45deg, #9C27B0, #673AB7); border: none; padding: 10px 20px; border-radius: 20px; color: white; font-weight: 600; cursor: pointer; margin: 0 10px; font-family: 'Cairo', sans-serif;">âš¡ Ø§Ù„Ù…Ø³ØªÙˆÙ‰</button>
                <button onclick="backgammonTutorial.showTutorial()" style="background: linear-gradient(45deg, #FFD700, #FFA000); border: none; padding: 10px 20px; border-radius: 20px; color: white; font-weight: 600; cursor: pointer; margin: 0 10px; font-family: 'Cairo', sans-serif;">ğŸ“š Ø§Ù„Ø¯Ù„ÙŠÙ„ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠ</button>
            </div>

            <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø© -->
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; background: rgba(255,255,255,0.1); padding: 15px; border-radius: 15px;">
                <div style="text-align: center;">
                    <p style="margin: 0; font-size: 1rem; opacity: 0.8;">Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø­Ø§Ù„ÙŠ</p>
                    <p id="backgammon-current-player" style="margin: 5px 0 0 0; font-size: 1.2rem; font-weight: 600;">Ø§Ù„Ø£Ø¨ÙŠØ¶</p>
                </div>
                <div style="text-align: center;">
                    <p style="margin: 0; font-size: 1rem; opacity: 0.8;">Ø§Ù„Ù†Ø±Ø¯</p>
                    <div id="backgammon-dice" style="margin: 5px 0 0 0; font-size: 1.5rem;">ğŸ² ğŸ²</div>
                </div>
                <div style="text-align: center;">
                    <p style="margin: 0; font-size: 1rem; opacity: 0.8;">ÙˆØ¶Ø¹ Ø§Ù„Ù„Ø¹Ø¨</p>
                    <p id="backgammon-mode" style="margin: 5px 0 0 0; font-size: 1rem; font-weight: 600;">Ø¶Ø¯ Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±</p>
                </div>
                <div style="text-align: center;">
                    <p style="margin: 0; font-size: 1rem; opacity: 0.8;">Ø§Ù„Ù…Ø³ØªÙˆÙ‰</p>
                    <p id="backgammon-level" style="margin: 5px 0 0 0; font-size: 1rem; font-weight: 600;">Ù…ØªÙˆØ³Ø·</p>
                </div>
            </div>

            <!-- Ù„ÙˆØ­Ø© Ø§Ù„Ø·Ø§ÙˆÙ„Ø© -->
            <div style="display: flex; justify-content: center; margin-botto            /* Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø·Ø§ÙˆÙ„Ø© Ø§Ù„Ø³ÙˆØ±ÙŠØ© Ø§Ù„ØªØ±Ø§Ø«ÙŠØ© */
            .backgammon-board {
                width: 100%;
                max-width: 900px;
                height: 500px;
                background: 
                    radial-gradient(circle at 20% 20%, rgba(218, 165, 32, 0.3) 0%, transparent 50%),
                    radial-gradient(circle at 80% 80%, rgba(139, 69, 19, 0.3) 0%, transparent 50%),
                    linear-gradient(45deg, #8B4513 0%, #A0522D 25%, #CD853F 50%, #D2691E 75%, #8B4513 100%);
                border-radius: 20px;
                margin: 0 auto;
                position: relative;
                border: 5px solid #654321;
                box-shadow: 
                    0 0 0 2px #DAA520,
                    0 0 0 4px #8B4513,
                    0 15px 35px rgba(0,0,0,0.4),
                    inset 0 2px 10px rgba(255,255,255,0.1);
                
                /* Ø²Ø®Ø§Ø±Ù Ø³ÙˆØ±ÙŠØ© ØªØ±Ø§Ø«ÙŠØ© */
                background-image: 
                    repeating-linear-gradient(
                        45deg,
                        transparent,
                        transparent 10px,
                        rgba(218, 165, 32, 0.1) 10px,
                        rgba(218, 165, 32, 0.1) 12px
                    ),
                    repeating-linear-gradient(
                        -45deg,
                        transparent,
                        transparent 10px,
                        rgba(139, 69, 19, 0.1) 10px,
                        rgba(139, 69, 19, 0.1) 12px
                    );
            }
            
            /* Ø¥Ø¶Ø§ÙØ© Ø²Ø®Ø§Ø±Ù Ø§Ù„Ø­ÙˆØ§Ù */
            .backgammon-board::before {
                content: '';
                position: absolute;
                top: -3px;
                left: -3px;
                right: -3px;
                bottom: -3px;
                background: linear-gradient(45deg, #DAA520, #B8860B, #DAA520, #B8860B);
                border-radius: 23px;
                z-index: -1;
            }
            
            /* Ø²Ø®Ø§Ø±Ù Ø§Ù„Ø²ÙˆØ§ÙŠØ§ */
            .backgammon-board::after {
                content: 'âœ¦ âœ§ âœ¦';
                position: absolute;
                top: 10px;
                left: 50%;
                transform: translateX(-50%);
                color: #DAA520;
                font-size: 1.2rem;
                text-shadow: 0 0 10px rgba(218, 165, 32, 0.5);
            }    grid-template-rows: 1fr 60px 1fr;
                    gap: 2px;
                    padding: 10px;
                ">
                    <!-- Ø³ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù†Ù‚Ø§Ø· Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
                </div>
            </div>

            <!-- Ø­Ø§Ù„Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© -->
            <div style="text-align: center; margin-top: 20px;">
                <p id="backgammon-status" style="font-size: 1.2rem; font-weight: 600;">Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ "Ø±Ù…ÙŠ Ø§Ù„Ù†Ø±Ø¯" Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨</p>
            </div>

            <!-- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù†ØµØ§Ø¦Ø­ ÙˆØ§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª -->
            <div id="backgammon-hints-area" style="margin-top: 20px; padding: 20px; background: rgba(255,255,255,0.1); border-radius: 15px; min-height: 100px;">
                <h3 style="margin: 0 0 15px 0; color: #FFD700; font-size: 1.2rem; text-align: center;">ğŸ² Ø§Ù„Ù†ØµØ§Ø¦Ø­ ÙˆØ§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª</h3>
                <div id="backgammon-current-hint" style="margin-bottom: 15px; padding: 10px; background: rgba(255,255,255,0.1); border-radius: 10px; text-align: center; min-height: 40px; display: flex; align-items: center; justify-content: center;">
                    <p style="margin: 0; color: #F0D9B5;">Ø§Ø±Ù… Ø§Ù„Ù†Ø±Ø¯ ÙˆØ§Ø®ØªØ± Ù‚Ø·Ø¹Ø© Ù„Ø±Ø¤ÙŠØ© Ø§Ù„Ù†ØµØ§Ø¦Ø­ ÙˆØ§Ù„Ø­Ø±ÙƒØ§Øª Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©</p>
                </div>
                <div id="backgammon-suggestions" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px;">
                    <!-- Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
                </div>
            </div>
        </div>

        <!-- ÙˆØ§Ø¬Ù‡Ø© Ù„Ø¹Ø¨Ø© Ø§Ù„Ø¯ÙˆÙ…ÙŠÙ†Ùˆ -->
        <div id="domino-game" class="game-area">
            <button class="back-button" onclick="showMainMenu()">ğŸ”™ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
            <h2 style="text-align: center; margin-bottom: 20px;">ğŸ¯ Ù„Ø¹Ø¨Ø© Ø§Ù„Ø¯ÙˆÙ…ÙŠÙ†Ùˆ ğŸ²</h2>
            
            <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… -->
            <div style="text-align: center; margin-bottom: 20px;">
                <button onclick="resetDomino()" style="background: linear-gradient(45deg, #4ECDC4, #44A08D); border: none; padding: 10px 20px; border-radius: 20px; color: white; font-weight: 600; cursor: pointer; margin: 0 10px; font-family: 'Cairo', sans-serif;">ğŸ”„ Ù„Ø¹Ø¨Ø© Ø¬Ø¯ÙŠØ¯Ø©</button>
                <button onclick="drawTileDomino()" id="draw-tile-btn" style="background: linear-gradient(45deg, #FF6B6B, #4ECDC4); border: none; padding: 10px 20px; border-radius: 20px; color: white; font-weight: 600; cursor: pointer; margin: 0 10px; font-family: 'Cairo', sans-serif;">ğŸ² Ø³Ø­Ø¨ Ù‚Ø·Ø¹Ø©</button>
                <button onclick="dominoTutorial.showTutorial()" style="background: linear-gradient(45deg, #FFD700, #FFA000); border: none; padding: 10px 20px; border-radius: 20px; color: white; font-weight: 600; cursor: pointer; margin: 0 10px; font-family: 'Cairo', sans-serif;">ğŸ“š Ø§Ù„Ø¯Ù„ÙŠÙ„ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠ</button>
                <button onclick="toggleSound()" style="background: linear-gradient(45deg, #FFA726, #FF7043); border: none; padding: 10px 20px; border-radius: 20px; color: white; font-weight: 600; cursor: pointer; margin: 0 10px; font-family: 'Cairo', sans-serif;">ğŸ”Š Ø§Ù„ØµÙˆØª</button>
            </div>

            <!-- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø© -->
            <div style="display: flex; justify-content: center; align-items: center; margin-bottom: 20px; gap: 20px; flex-wrap: wrap;">
                <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 15px; display: flex; align-items: center; gap: 10px;">
                    <span style="color: #FFD700; font-weight: 600;">ÙˆØ¶Ø¹ Ø§Ù„Ù„Ø¹Ø¨:</span>
                    <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                        <input type="radio" name="domino-mode" value="computer" checked onchange="toggleDominoMode()" style="transform: scale(1.2);">
                        <span style="color: white;">ğŸ¤– Ø¶Ø¯ Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±</span>
                    </label>
                    <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                        <input type="radio" name="domino-mode" value="friend" onchange="toggleDominoMode()" style="transform: scale(1.2);">
                        <span style="color: white;">ğŸ‘¥ Ù…Ø¹ ØµØ¯ÙŠÙ‚</span>
                    </label>
                </div>
                
                <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 15px; display: flex; align-items: center; gap: 10px;">
                    <span style="color: #FFD700; font-weight: 600;">Ù†ÙˆØ¹ Ø§Ù„Ù„Ø¹Ø¨Ø©:</span>
                    <button onclick="toggleBackgammonVariant()" id="backgammon-variant" style="background: linear-gradient(45deg, #E91E63, #9C27B0); border: none; padding: 8px 15px; border-radius: 10px; color: white; font-weight: 600; cursor: pointer; font-family: 'Cairo', sans-serif;">Ø§Ù„Ø·Ø§ÙˆÙ„Ø© Ø§Ù„Ø¹Ø§Ø¯ÙŠØ©</button>
                </div>
                
                <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 15px; display: flex; align-items: center; gap: 10px;">
                    <span style="color: #FFD700; font-weight: 600;">Ø§Ù„Ù…Ø³ØªÙˆÙ‰:</span>
                    <button onclick="toggleBackgammonLevel()" id="backgammon-level" style="background: linear-gradient(45deg, #9C27B0, #673AB7); border: none; padding: 8px 15px; border-radius: 10px; color: white; font-weight: 600; cursor: pointer; font-family: 'Cairo', sans-serif;">Ù…ØªÙˆØ³Ø·</button>
                </div>
            </div>

            <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø© -->
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; background: rgba(255,255,255,0.1); padding: 15px; border-radius: 15px;">
                <div style="text-align: center;">
                    <div style="color: #4ECDC4; font-weight: 600; margin-bottom: 5px;">Ø§Ù„Ù„Ø§Ø¹Ø¨</div>
                    <div id="player-tiles-count" style="color: white; font-size: 1.2rem;">7 Ù‚Ø·Ø¹</div>
                </div>
                <div style="text-align: center;">
                    <div style="color: #FFD700; font-weight: 600; margin-bottom: 5px;">Ø§Ù„Ø¯ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠ</div>
                    <div id="domino-current-player" style="color: white; font-size: 1.2rem;">Ø§Ù„Ù„Ø§Ø¹Ø¨</div>
                </div>
                <div style="text-align: center;">
                    <div style="color: #FF6B6B; font-weight: 600; margin-bottom: 5px;">Ø§Ù„Ø®ØµÙ…</div>
                    <div id="computer-tiles-count" style="color: white; font-size: 1.2rem;">7 Ù‚Ø·Ø¹</div>
                </div>
                <div style="text-align: center;">
                    <div style="color: #FFA726; font-weight: 600; margin-bottom: 5px;">Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</div>
                    <div id="stock-tiles-count" style="color: white; font-size: 1.2rem;">14 Ù‚Ø·Ø¹Ø©</div>
                </div>
            </div>

            <!-- Ù„ÙˆØ­Ø© Ø§Ù„Ø¯ÙˆÙ…ÙŠÙ†Ùˆ -->
            <div style="display: flex; justify-content: center; margin-bottom: 20px;">
                <div class="domino-board" id="domino-board" style="
                    min-height: 200px;
                    background: linear-gradient(135deg, #2C5530, #3E7B3E);
                    border-radius: 15px;
                    padding: 20px;
                    border: 3px solid #1E3A1E;
                    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    flex-wrap: wrap;
                    gap: 5px;
                    overflow-x: auto;
                    max-width: 100%;
                ">
                    <div id="domino-tiles-container" style="display: flex; align-items: center; gap: 5px; flex-wrap: wrap;">
                        <!-- Ù‚Ø·Ø¹ Ø§Ù„Ø¯ÙˆÙ…ÙŠÙ†Ùˆ Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
                    </div>
                </div>
            </div>

            <!-- ÙŠØ¯ Ø§Ù„Ù„Ø§Ø¹Ø¨ -->
            <div style="text-align: center; margin-bottom: 20px;">
                <h3 style="color: #4ECDC4; margin-bottom: 15px;">ğŸ¯ Ù‚Ø·Ø¹Ùƒ</h3>
                <div id="player-hand" style="
                    display: flex;
                    justify-content: center;
                    gap: 10px;
                    flex-wrap: wrap;
                    background: rgba(255,255,255,0.1);
                    padding: 15px;
                    border-radius: 15px;
                    min-height: 80px;
                ">
                    <!-- Ù‚Ø·Ø¹ Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
                </div>
            </div>

            <!-- Ø­Ø§Ù„Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© -->
            <div style="text-align: center; margin-top: 20px;">
                <p id="domino-status" style="font-size: 1.2rem; font-weight: 600;">Ø§Ø®ØªØ± Ù‚Ø·Ø¹Ø© Ù…Ù† ÙŠØ¯Ùƒ Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨</p>
            </div>

            <!-- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù†ØµØ§Ø¦Ø­ ÙˆØ§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª -->
            <div id="domino-hints-area" style="margin-top: 20px; padding: 20px; background: rgba(255,255,255,0.1); border-radius: 15px; min-height: 100px;">
                <h3 style="margin: 0 0 15px 0; color: #FFD700; font-size: 1.2rem; text-align: center;">ğŸ¯ Ø§Ù„Ù†ØµØ§Ø¦Ø­ ÙˆØ§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª</h3>
                <div id="domino-current-hint" style="margin-bottom: 15px; padding: 10px; background: rgba(255,255,255,0.1); border-radius: 10px; text-align: center; min-height: 40px; display: flex; align-items: center; justify-content: center;">
                    <p style="margin: 0; color: #4ECDC4;">Ø§Ø®ØªØ± Ù‚Ø·Ø¹Ø© Ù„Ø±Ø¤ÙŠØ© Ø§Ù„Ù†ØµØ§Ø¦Ø­ ÙˆØ§Ù„Ø­Ø±ÙƒØ§Øª Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©</p>
                </div>
                <div id="domino-suggestions" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px;">
                    <!-- Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
                </div>
            </div>
        </div>

        <div id="other-games" class="game-area">
            <button class="back-button" onclick="showMainMenu()">ğŸ”™ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
            <h2 style="text-align: center; margin-bottom: 20px;" id="current-game-title">Ø§Ù„Ù„Ø¹Ø¨Ø©</h2>
            <div style="text-align: center; padding: 50px;">
                <p style="font-size: 1.5rem; margin-bottom: 30px;">ğŸš§ Ù‡Ø°Ù‡ Ø§Ù„Ù„Ø¹Ø¨Ø© Ù‚ÙŠØ¯ Ø§Ù„ØªØ·ÙˆÙŠØ± ğŸš§</p>
                <p style="font-size: 1.2rem; opacity: 0.8;">Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù‚Ø±ÙŠØ¨Ø§Ù‹ Ù…Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©</p>
            </div>
        </div>

        <footer class="footer">
            <p>&copy; 2025 - Ø¨Ø±Ù…Ø¬Ø© ÙˆØªØ·ÙˆÙŠØ±: Ù…Ø­Ø§Ø³Ø¨ Ø£Ø­Ù…Ø¯ Ù…Ø¨Ø±ÙˆÙƒ</p>
            <p style="margin-top: 10px; opacity: 0.8;">Ù…ÙˆÙ‚Ø¹ Ø£Ù„Ø¹Ø§Ø¨ ØªØ¹Ù„ÙŠÙ…ÙŠ Ø§Ø­ØªØ±Ø§ÙÙŠ Ù…Ø¹ Ø¯Ø¹Ù… ÙƒØ§Ù…Ù„ Ù„Ù„ØªÙ„ÙØ²ÙŠÙˆÙ† Ø§Ù„Ø°ÙƒÙŠ ÙˆØ§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</p>
        </footer>
    </div>

    <!-- ØªØ­Ù…ÙŠÙ„ Ù…Ø­Ø±ÙƒØ§Øª Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© -->
    <script src="chess-advanced.js"></script>
    <script src="backgammon-advanced.js"></script>
    <script src="domino-advanced.js"></script>
    <script src="chess-tutorial.js"></script>
    <script src="backgammon-tutorial.js"></script>
    <script src="domino-tutorial.js"></script>
    
    <script>
        // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©
        let currentFocus = 0;
        let gameCards = [];
        let isRemoteMode = false;
        let soundEnabled = true;
        
        // Ù…Ø­Ø±ÙƒØ§Øª Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨
        let chessEngine = null;
        let backgammonEngine = null;
        let dominoEngine = null;

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©
        document.addEventListener('DOMContentLoaded', function() {
            gameCards = document.querySelectorAll('.game-card');
            setupRemoteControl();
            initializeGames();
            
            // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ù„Ù„Ø¨Ø·Ø§Ù‚Ø§Øª
            gameCards.forEach((card, index) => {
                card.addEventListener('click', () => selectGame(card.dataset.game));
                card.addEventListener('focus', () => setFocus(index));
            });
        });

        // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªØ­ÙƒÙ… Ø¨Ø§Ù„Ø±ÙŠÙ…ÙˆØª
        function setupRemoteControl() {
            // ÙƒØ´Ù Ø§Ù„ØªÙ„ÙØ²ÙŠÙˆÙ† Ø§Ù„Ø°ÙƒÙŠ
            const userAgent = navigator.userAgent.toLowerCase();
            isRemoteMode = userAgent.includes('smart-tv') || 
                          userAgent.includes('tizen') || 
                          userAgent.includes('webos') || 
                          userAgent.includes('roku') ||
                          window.innerWidth >= 1920;

            document.addEventListener('keydown', handleKeyPress);
            
            // ØªÙØ¹ÙŠÙ„ ÙˆØ¶Ø¹ Ø§Ù„Ø±ÙŠÙ…ÙˆØª Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø£ÙŠ Ø³Ù‡Ù…
            if (!isRemoteMode) {
                document.addEventListener('keydown', function enableRemote(e) {
                    if (['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight'].includes(e.key)) {
                        isRemoteMode = true;
                        setFocus(0);
                        document.removeEventListener('keydown', enableRemote);
                    }
                }, { once: true });
            } else {
                setFocus(0);
            }
        }

        // Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø¶ØºØ· Ø§Ù„Ù…ÙØ§ØªÙŠØ­
        function handleKeyPress(event) {
            if (!isRemoteMode) return;

            switch (event.key) {
                case 'ArrowUp':
                    event.preventDefault();
                    if (document.getElementById('main-menu').style.display !== 'none') {
                        moveFocus(-2); // ØµØ¹ÙˆØ¯ ØµÙÙŠÙ† ÙÙŠ Ø§Ù„Ø´Ø¨ÙƒØ©
                    }
                    break;
                case 'ArrowDown':
                    event.preventDefault();
                    if (document.getElementById('main-menu').style.display !== 'none') {
                        moveFocus(2); // Ù†Ø²ÙˆÙ„ ØµÙÙŠÙ† ÙÙŠ Ø§Ù„Ø´Ø¨ÙƒØ©
                    }
                    break;
                case 'ArrowLeft':
                    event.preventDefault();
                    if (document.getElementById('main-menu').style.display !== 'none') {
                        moveFocus(-1);
                    }
                    break;
                case 'ArrowRight':
                    event.preventDefault();
                    if (document.getElementById('main-menu').style.display !== 'none') {
                        moveFocus(1);
                    }
                    break;
                case 'Enter':
                case ' ':
                    event.preventDefault();
                    if (document.getElementById('main-menu').style.display !== 'none') {
                        const focusedCard = gameCards[currentFocus];
                        if (focusedCard) {
                            selectGame(focusedCard.dataset.game);
                        }
                    }
                    break;
                case 'Escape':
                case 'Backspace':
                    event.preventDefault();
                    showMainMenu();
                    break;
            }
        }

        // ØªØ­Ø±ÙŠÙƒ Ø§Ù„ØªØ±ÙƒÙŠØ²
        function moveFocus(direction) {
            const newFocus = currentFocus + direction;
            if (newFocus >= 0 && newFocus < gameCards.length) {
                setFocus(newFocus);
            }
        }

        // ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªØ±ÙƒÙŠØ²
        function setFocus(index) {
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªØ±ÙƒÙŠØ² Ù…Ù† Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
            gameCards.forEach(card => card.classList.remove('focused'));
            
            // ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªØ±ÙƒÙŠØ² Ø§Ù„Ø¬Ø¯ÙŠØ¯
            currentFocus = index;
            if (gameCards[currentFocus]) {
                gameCards[currentFocus].classList.add('focused');
                gameCards[currentFocus].focus();
            }
        }

        // Ø§Ø®ØªÙŠØ§Ø± Ù„Ø¹Ø¨Ø©
        function selectGame(gameType) {
            playSound('select');
            
            document.getElementById('main-menu').style.display = 'none';
            
            if (gameType === 'chess') {
                document.getElementById('chess-game').classList.add('active');
                resetChess();
            } else if (gameType === 'backgammon') {
                document.getElementById('backgammon-game').classList.add('active');
                resetBackgammon();
            } else if (gameType === 'domino') {
                document.getElementById('domino-game').classList.add('active');
                resetDomino();
            } else if (gameType === 'coming-soon') {
                alert('ğŸ® Ù‡Ø°Ù‡ Ø§Ù„Ù„Ø¹Ø¨Ø© Ù‚ÙŠØ¯ Ø§Ù„ØªØ·ÙˆÙŠØ± ÙˆØ³ØªÙƒÙˆÙ† Ù…ØªØ§Ø­Ø© Ù‚Ø±ÙŠØ¨Ø§Ù‹!');
                showMainMenu();
            } else {
                document.getElementById('current-game-title').textContent = getGameTitle(gameType);
                document.getElementById('other-games').classList.add('active');
            }
        }

        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù„Ø¹Ø¨Ø©
        function getGameTitle(gameType) {
            const titles = {
                'backgammon': 'âš« Ø§Ù„Ø·Ø§ÙˆÙ„Ø© âšª',
                'domino': 'âš€ Ø§Ù„Ø¯ÙˆÙ…ÙŠÙ†Ùˆ âš…',
                'spaceshooter': 'ğŸš€ Ø­Ø±Ø¨ Ø§Ù„Ù†Ø¬ÙˆÙ… ğŸŒŸ',
                'carracing': 'ğŸï¸ Ø³Ø¨Ø§Ù‚ Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª ğŸ'
            };
            return titles[gameType] || 'Ø§Ù„Ù„Ø¹Ø¨Ø©';
        }

        // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        function showMainMenu() {
            document.querySelectorAll('.game-area').forEach(area => {
                area.classList.remove('active');
            });
            document.getElementById('main-menu').style.display = 'block';
            
            if (isRemoteMode) {
                setFocus(0);
            }
        }

        // ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª
        function playSound(type) {
            if (!soundEnabled) return;
            
            // Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ø£ØµÙˆØ§Øª Ø¨Ù€ Web Audio API
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            switch (type) {
                case 'select':
                    oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
                    break;
                case 'move':
                    oscillator.frequency.setValueAtTime(400, audioContext.currentTime);
                    break;
                case 'capture':
                    oscillator.frequency.setValueAtTime(200, audioContext.currentTime);
                    break;
            }
            
            gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.1);
        }

        // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ØµÙˆØª
        function toggleSound() {
            soundEnabled = !soundEnabled;
            playSound('select');
            alert(soundEnabled ? 'ğŸ”Š ØªÙ… ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª' : 'ğŸ”‡ ØªÙ… Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ØµÙˆØª');
        }

        // === ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ===

        function initializeGames() {
            chessEngine = new ChessEngine();
            backgammonEngine = new BackgammonEngine();
            renderChessBoard();
            renderBackgammonBoard();
        }

        // === ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø´Ø·Ø±Ù†Ø¬ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© ===

        function renderChessBoard() {
            const boardElement = document.getElementById('chess-board');
            boardElement.innerHTML = '';
            
            for (let row = 0; row < 8; row++) {
                for (let col = 0; col < 8; col++) {
                    const square = document.createElement('div');
                    square.className = `chess-square ${(row + col) % 2 === 0 ? 'light' : 'dark'}`;
                    
                    const piece = chessEngine.board[row][col];
                    square.textContent = piece ? piece.symbol : '';
                    square.onclick = () => handleChessSquareClick(row, col);
                    
                    if (chessEngine.selectedSquare && 
                        chessEngine.selectedSquare[0] === row && 
                        chessEngine.selectedSquare[1] === col) {
                        square.classList.add('selected');
                    }
                    
                    // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø­Ø±ÙƒØ§Øª Ø§Ù„Ù…Ù…ÙƒÙ†Ø©
                    if (chessEngine.selectedSquare) {
                        const possibleMoves = chessEngine.getPossibleMoves(
                            chessEngine.selectedSquare[0], 
                            chessEngine.selectedSquare[1]
                        );
                        if (possibleMoves.some(move => move.row === row && move.col === col)) {
                            square.classList.add('possible-move');
                        }
                    }
                    
                    boardElement.appendChild(square);
                }
            }
            
            updateChessStatus();
        }

        function handleChessSquareClick(row, col) {
            const piece = chessEngine.board[row][col];
            
            if (chessEngine.selectedSquare) {
                const [selectedRow, selectedCol] = chessEngine.selectedSquare;
                
                if (row === selectedRow && col === selectedCol) {
                    chessEngine.selectedSquare = null;
                } else {
                    const possibleMoves = chessEngine.getPossibleMoves(selectedRow, selectedCol);
                    const validMove = possibleMoves.find(move => move.row === row && move.col === col);
                    
                    if (validMove) {
                        const move = chessEngine.makeMove(selectedRow, selectedCol, row, col);
                        
                        if (move.captured) {
                            playSound('capture');
                        } else {
                            playSound('move');
                        }
                        
                        // Ø¥Ø°Ø§ ÙƒØ§Ù† ÙˆØ¶Ø¹ Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ± ÙˆØ§Ù†ØªÙ‡Ù‰ Ø¯ÙˆØ± Ø§Ù„Ù„Ø§Ø¹Ø¨
                        if (chessEngine.gameMode === 'computer' && 
                            !chessEngine.isWhiteTurn && 
                            chessEngine.gameStatus === 'playing') {
                            setTimeout(async () => {
                                const aiMove = await chessEngine.makeAIMove();
                                if (aiMove) {
                                    playSound('move');
                                    renderChessBoard();
                                    updateChessHints();
                                }
                            }, 500);
                        }
                    } else if (piece && piece.color === (chessEngine.isWhiteTurn ? 'white' : 'black')) {
                        chessEngine.selectedSquare = [row, col];
                    } else {
                        chessEngine.selectedSquare = null;
                    }
                }
            } else if (piece && piece.color === (chessEngine.isWhiteTurn ? 'white' : 'black')) {
                chessEngine.selectedSquare = [row, col];
            }
            
            renderChessBoard();
            updateChessHints();
        }

        function updateChessHints() {
            const hintElement = document.getElementById('chess-current-hint');
            const suggestionsElement = document.getElementById('chess-suggestions');
            
            if (!hintElement || !suggestionsElement) return;
            
            // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØµÙŠØ­Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
            const hint = chessTutorial.getSmartHint(chessEngine, chessEngine.selectedSquare);
            if (hint) {
                hintElement.innerHTML = `<p style="margin: 0; color: #4ECDC4;">${hint}</p>`;
            } else {
                hintElement.innerHTML = `<p style="margin: 0; color: #4ECDC4;">Ø§Ø®ØªØ± Ù‚Ø·Ø¹Ø© Ù„Ø±Ø¤ÙŠØ© Ø§Ù„Ù†ØµØ§Ø¦Ø­ ÙˆØ§Ù„Ø­Ø±ÙƒØ§Øª Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©</p>`;
            }
            
            // Ø¹Ø±Ø¶ Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª
            if (chessEngine.selectedSquare) {
                const suggestions = chessTutorial.getSuggestedMoves(chessEngine, chessEngine.selectedSquare);
                
                suggestionsElement.innerHTML = suggestions.map(suggestion => `
                    <div onclick="makeChessSuggestedMove(${suggestion.move.row}, ${suggestion.move.col})" style="
                        background: rgba(255,255,255,0.1);
                        border-radius: 10px;
                        padding: 10px;
                        cursor: pointer;
                        transition: all 0.3s ease;
                        border: 1px solid rgba(255,255,255,0.2);
                    " onmouseover="this.style.background='rgba(255,255,255,0.2)'" onmouseout="this.style.background='rgba(255,255,255,0.1)'">
                        <div style="color: #FFD700; font-weight: 600; margin-bottom: 5px;">
                            ${String.fromCharCode(97 + chessEngine.selectedSquare[1])}${8 - chessEngine.selectedSquare[0]} â†’ ${String.fromCharCode(97 + suggestion.move.col)}${8 - suggestion.move.row}
                        </div>
                        <div style="color: #4ECDC4; font-size: 0.9rem;">
                            ${suggestion.reason}
                        </div>
                        <div style="color: #FFA726; font-size: 0.8rem; margin-top: 5px;">
                            Ø£ÙˆÙ„ÙˆÙŠØ©: ${suggestion.priority}
                        </div>
                    </div>
                `).join('');
            } else {
                suggestionsElement.innerHTML = '';
            }
        }

        function makeChessSuggestedMove(toRow, toCol) {
            if (chessEngine.selectedSquare) {
                handleChessSquareClick(toRow, toCol);
            }
        }

        function updateChessStatus() {
            const statusElement = document.getElementById('game-status');
            const currentPlayer = chessEngine.isWhiteTurn ? 'Ø§Ù„Ø£Ø¨ÙŠØ¶' : 'Ø§Ù„Ø£Ø³ÙˆØ¯';
            
            switch (chessEngine.gameStatus) {
                case 'playing':
                    statusElement.textContent = `Ø¯ÙˆØ± ${currentPlayer}`;
                    break;
                case 'check':
                    statusElement.textContent = `ÙƒØ´! Ø¯ÙˆØ± ${currentPlayer}`;
                    break;
                case 'checkmate':
                    const winner = chessEngine.isWhiteTurn ? 'Ø§Ù„Ø£Ø³ÙˆØ¯' : 'Ø§Ù„Ø£Ø¨ÙŠØ¶';
                    statusElement.textContent = `ÙƒØ´ Ù…Ø§Øª! ÙØ§Ø² ${winner}`;
                    break;
                case 'stalemate':
                    statusElement.textContent = 'ØªØ¹Ø§Ø¯Ù„ - Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­Ø±ÙƒØ§Øª ØµØ§Ù„Ø­Ø©';
                    break;
                case 'draw-50-moves':
                    statusElement.textContent = 'ØªØ¹Ø§Ø¯Ù„ - Ù‚Ø§Ù†ÙˆÙ† Ø§Ù„Ù€50 Ø­Ø±ÙƒØ©';
                    break;
                case 'draw-insufficient-material':
                    statusElement.textContent = 'ØªØ¹Ø§Ø¯Ù„ - Ù‚Ø·Ø¹ ØºÙŠØ± ÙƒØ§ÙÙŠØ©';
                    break;
            }
        }

        function resetChess() {
            chessEngine.reset();
            renderChessBoard();
            updateChessHints();
            playSound('select');
        }

        function toggleChessMode() {
            chessEngine.gameMode = chessEngine.gameMode === 'computer' ? 'friend' : 'computer';
            const modeText = chessEngine.gameMode === 'computer' ? 'Ø¶Ø¯ Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±' : 'Ù„Ø§Ø¹Ø¨ÙŠÙ†';
            alert(`ğŸ® ØªÙ… Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ ÙˆØ¶Ø¹: ${modeText}`);
        }

        function toggleChessLevel() {
            const levels = ['easy', 'medium', 'hard', 'expert'];
            const levelNames = ['Ø³Ù‡Ù„', 'Ù…ØªÙˆØ³Ø·', 'ØµØ¹Ø¨', 'Ø®Ø¨ÙŠØ±'];
            const currentIndex = levels.indexOf(chessEngine.aiLevel);
            const nextIndex = (currentIndex + 1) % levels.length;
            
            chessEngine.aiLevel = levels[nextIndex];
            alert(`âš¡ ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø¥Ù„Ù‰: ${levelNames[nextIndex]}`);
        }

        // === ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø·Ø§ÙˆÙ„Ø© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© ===

        function renderBackgammonBoard() {
            const boardElement = document.getElementById('backgammon-board');
            boardElement.innerHTML = '';
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ø¹Ù„ÙˆÙŠØ© (13-24)
            for (let point = 13; point <= 24; point++) {
                const pointElement = document.createElement('div');
                pointElement.className = 'backgammon-point';
                pointElement.dataset.point = point;
                pointElement.style.background = (point % 2 === 1) ? '#F0D9B5' : '#B58863';
                pointElement.style.gridRow = '1';
                pointElement.onclick = () => handleBackgammonPointClick(point);
                
                renderBackgammonPieces(pointElement, point);
                boardElement.appendChild(pointElement);
            }
            
            // Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø£ÙˆØ³Ø·
            const middleBar = document.createElement('div');
            middleBar.style.gridRow = '2';
            middleBar.style.gridColumn = '1 / -1';
            middleBar.style.background = '#654321';
            middleBar.style.display = 'flex';
            middleBar.style.justifyContent = 'space-between';
            middleBar.style.alignItems = 'center';
            middleBar.style.padding = '0 20px';
            middleBar.innerHTML = `
                <div id="captured-white" style="color: white; font-weight: 600;">Ù‚Ø·Ø¹ Ø¨ÙŠØ¶Ø§Ø¡ Ù…Ø£Ø³ÙˆØ±Ø©: ${backgammonEngine.board[25].pieces}</div>
                <div id="captured-black" style="color: white; font-weight: 600;">Ù‚Ø·Ø¹ Ø³ÙˆØ¯Ø§Ø¡ Ù…Ø£Ø³ÙˆØ±Ø©: ${backgammonEngine.board[26].pieces}</div>
            `;
            boardElement.appendChild(middleBar);
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ø³ÙÙ„ÙŠØ© (12-1)
            for (let point = 12; point >= 1; point--) {
                const pointElement = document.createElement('div');
                pointElement.className = 'backgammon-point';
                pointElement.dataset.point = point;
                pointElement.style.background = (point % 2 === 0) ? '#F0D9B5' : '#B58863';
                pointElement.style.gridRow = '3';
                pointElement.style.borderRadius = '50px 50px 0 0';
                pointElement.style.justifyContent = 'flex-end';
                pointElement.onclick = () => handleBackgammonPointClick(point);
                
                renderBackgammonPieces(pointElement, point);
                boardElement.appendChild(pointElement);
            }
            
            updateBackgammonStatus();
        }

        function renderBackgammonPieces(pointElement, pointNumber) {
            const pointData = backgammonEngine.board[pointNumber];
            pointElement.innerHTML = '';
            
            if (pointData.pieces > 0) {
                for (let i = 0; i < Math.min(pointData.pieces, 5); i++) {
                    const piece = document.createElement('div');
                    piece.className = `backgammon-piece ${pointData.color}`;
                    piece.textContent = i === 4 && pointData.pieces > 5 ? `+${pointData.pieces - 4}` : '';
                    pointElement.appendChild(piece);
                }
            }
        }

        function handleBackgammonPointClick(pointNumber) {
            if (backgammonEngine.availableMoves.length === 0) {
                alert('ğŸ² ÙŠØ¬Ø¨ Ø±Ù…ÙŠ Ø§Ù„Ù†Ø±Ø¯ Ø£ÙˆÙ„Ø§Ù‹!');
                return;
            }
            
            const possibleMoves = backgammonEngine.getPossibleMoves(pointNumber);
            
            if (possibleMoves.length === 0) {
                alert('âŒ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­Ø±ÙƒØ§Øª ØµØ§Ù„Ø­Ø© Ù…Ù† Ù‡Ø°Ù‡ Ø§Ù„Ù†Ù‚Ø·Ø©');
                return;
            }
            
            if (possibleMoves.length === 1) {
                // Ø­Ø±ÙƒØ© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·
                const move = possibleMoves[0];
                backgammonEngine.makeMove(move.from, move.to, move.dice);
                playSound('move');
                renderBackgammonBoard();
                updateBackgammonHints();
                
                // Ø¥Ø°Ø§ Ø§Ù†ØªÙ‡Øª Ø§Ù„Ø­Ø±ÙƒØ§ØªØŒ ØªØ­Ù‚Ù‚ Ù…Ù† Ø¯ÙˆØ± Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±
                if (backgammonEngine.availableMoves.length === 0 && 
                    backgammonEngine.gameMode === 'computer' && 
                    !backgammonEngine.isWhiteTurn) {
                    setTimeout(async () => {
                        const aiMoves = await backgammonEngine.makeAIMove();
                        if (aiMoves && aiMoves.length > 0) {
                            playSound('move');
                            renderBackgammonBoard();
                            updateBackgammonHints();
                        }
                    }, 1000);
                }
            } else {
                // Ø¹Ø¯Ø© Ø­Ø±ÙƒØ§Øª Ù…Ù…ÙƒÙ†Ø© - Ø¹Ø±Ø¶ Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª
                showBackgammonSuggestions(pointNumber, possibleMoves);
            }
        }

        function showBackgammonSuggestions(pointNumber, possibleMoves) {
            const suggestions = backgammonTutorial.getSuggestedMoves(
                backgammonEngine, 
                pointNumber, 
                backgammonEngine.availableMoves
            );
            
            const suggestionsElement = document.getElementById('backgammon-suggestions');
            suggestionsElement.innerHTML = suggestions.map(suggestion => `
                <div onclick="makeBackgammonSuggestedMove(${suggestion.from}, ${suggestion.to}, ${suggestion.dice})" style="
                    background: rgba(255,255,255,0.1);
                    border-radius: 10px;
                    padding: 10px;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    border: 1px solid rgba(255,255,255,0.2);
                " onmouseover="this.style.background='rgba(255,255,255,0.2)'" onmouseout="this.style.background='rgba(255,255,255,0.1)'">
                    <div style="color: #FFD700; font-weight: 600; margin-bottom: 5px;">
                        Ø§Ù„Ù†Ù‚Ø·Ø© ${suggestion.from} â†’ Ø§Ù„Ù†Ù‚Ø·Ø© ${suggestion.to}
                    </div>
                    <div style="color: #F0D9B5; font-size: 0.9rem;">
                        ${suggestion.reason}
                    </div>
                    <div style="color: #FFA726; font-size: 0.8rem; margin-top: 5px;">
                        Ø§Ù„Ù†Ø±Ø¯: ${suggestion.dice} | Ø£ÙˆÙ„ÙˆÙŠØ©: ${suggestion.priority}
                    </div>
                </div>
            `).join('');
        }

        function makeBackgammonSuggestedMove(from, to, dice) {
            backgammonEngine.makeMove(from, to, dice);
            playSound('move');
            renderBackgammonBoard();
            updateBackgammonHints();
        }

        function updateBackgammonHints() {
            const hintElement = document.getElementById('backgammon-current-hint');
            const suggestionsElement = document.getElementById('backgammon-suggestions');
            
            if (!hintElement || !suggestionsElement) return;
            
            // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØµÙŠØ­Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
            const hint = backgammonTutorial.getSmartHint(backgammonEngine, backgammonEngine.availableMoves);
            if (hint) {
                hintElement.innerHTML = `<p style="margin: 0; color: #F0D9B5;">${hint}</p>`;
            } else {
                hintElement.innerHTML = `<p style="margin: 0; color: #F0D9B5;">Ø§Ø±Ù… Ø§Ù„Ù†Ø±Ø¯ ÙˆØ§Ø®ØªØ± Ù‚Ø·Ø¹Ø© Ù„Ø±Ø¤ÙŠØ© Ø§Ù„Ù†ØµØ§Ø¦Ø­ ÙˆØ§Ù„Ø­Ø±ÙƒØ§Øª Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©</p>`;
            }
            
            // Ù…Ø³Ø­ Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø¥Ø°Ø§ Ù„Ù… ØªØ¹Ø¯ Ù‡Ù†Ø§Ùƒ Ø­Ø±ÙƒØ§Øª Ù…ØªØ§Ø­Ø©
            if (backgammonEngine.availableMoves.length === 0) {
                suggestionsElement.innerHTML = '';
            }
        }

        function rollDiceBackgammon() {
            if (backgammonEngine.availableMoves.length > 0) {
                alert('âš ï¸ ÙŠØ¬Ø¨ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø­Ø±ÙƒØ§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ø£ÙˆÙ„Ø§Ù‹');
                return;
            }
            
            const dice = backgammonEngine.rollDice();
            document.getElementById('backgammon-dice').textContent = `ğŸ² ${dice[0]} - ${dice[1]} ğŸ²`;
            playSound('move');
            renderBackgammonBoard();
            updateBackgammonHints();
        }

        function updateBackgammonStatus() {
            const statusElement = document.getElementById('backgammon-status');
            const currentPlayer = backgammonEngine.isWhiteTurn ? 'Ø§Ù„Ø£Ø¨ÙŠØ¶' : 'Ø§Ù„Ø£Ø³ÙˆØ¯';
            
            if (backgammonEngine.gameStatus === 'playing') {
                if (backgammonEngine.availableMoves.length > 0) {
                    statusElement.textContent = `Ø¯ÙˆØ± ${currentPlayer} - Ø§Ø®ØªØ± Ù‚Ø·Ø¹Ø© Ù„Ù„Ø­Ø±ÙƒØ©`;
                } else {
                    statusElement.textContent = `Ø¯ÙˆØ± ${currentPlayer} - Ø§Ø¶ØºØ· "Ø±Ù…ÙŠ Ø§Ù„Ù†Ø±Ø¯"`;
                }
            } else if (backgammonEngine.gameStatus.includes('wins')) {
                const winner = backgammonEngine.gameStatus.includes('white') ? 'Ø§Ù„Ø£Ø¨ÙŠØ¶' : 'Ø§Ù„Ø£Ø³ÙˆØ¯';
                statusElement.textContent = `ğŸ‰ ÙØ§Ø² ${winner}! Ù‚ÙŠÙ…Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©: ${backgammonEngine.gameValue}`;
            }
            
            document.getElementById('backgammon-current-player').textContent = currentPlayer;
        }

        function resetBackgammon() {
            backgammonEngine.reset();
            document.getElementById('backgammon-dice').textContent = 'ğŸ² ğŸ²';
            renderBackgammonBoard();
            updateBackgammonHints();
            playSound('select');
        }

        function toggleBackgammonMode() {
            backgammonEngine.gameMode = backgammonEngine.gameMode === 'computer' ? 'friend' : 'computer';
            const modeText = backgammonEngine.gameMode === 'computer' ? 'Ø¶Ø¯ Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±' : 'Ù„Ø§Ø¹Ø¨ÙŠÙ†';
            document.getElementById('backgammon-mode').textContent = modeText;
            alert(`ğŸ® ØªÙ… Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ ÙˆØ¶Ø¹: ${modeText}`);
        }

        function toggleBackgammonLevel() {
            const levels = ['easy', 'medium', 'hard', 'expert'];
            const levelNames = ['Ø³Ù‡Ù„', 'Ù…ØªÙˆØ³Ø·', 'ØµØ¹Ø¨', 'Ø®Ø¨ÙŠØ±'];
            const currentIndex = levels.indexOf(backgammonEngine.aiLevel);
            const nextIndex = (currentIndex + 1) % levels.length;
            
            backgammonEngine.aiLevel = levels[nextIndex];
            document.getElementById('backgammon-level').textContent = levelNames[nextIndex];
            alert(`âš¡ ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø¥Ù„Ù‰: ${levelNames[nextIndex]}`);
        }

        function toggleBackgammonVariant() {
            const variants = Object.keys(backgammonEngine.gameVariants);
            const currentIndex = variants.indexOf(backgammonEngine.gameVariant);
            const nextIndex = (currentIndex + 1) % variants.length;
            const nextVariant = variants[nextIndex];
            
            backgammonEngine.setGameVariant(nextVariant);
            const variantName = backgammonEngine.gameVariants[nextVariant].name;
            const variantDescription = backgammonEngine.gameVariants[nextVariant].description;
            
            document.getElementById('backgammon-variant').textContent = variantName;
            renderBackgammonBoard();
            updateBackgammonHints();
            
            // Ø¥Ø¸Ù‡Ø§Ø± ÙˆØµÙ Ù†ÙˆØ¹ Ø§Ù„Ù„Ø¹Ø¨Ø©
            alert(`ğŸ¯ ØªÙ… Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰: ${variantName}\n\nğŸ“ ${variantDescription}`);
        }

        // === ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø¯ÙˆÙ…ÙŠÙ†Ùˆ ===
        
        function renderDominoGame() {
            if (!dominoEngine) return;
            
            renderDominoBoard();
            renderPlayerHand();
            updateDominoStatus();
            updateDominoHints();
        }

        function renderDominoBoard() {
            const container = document.getElementById('domino-tiles-container');
            if (!container || !dominoEngine) return;
            
            container.innerHTML = '';
            
            if (dominoEngine.board.length === 0) {
                container.innerHTML = '<div style="color: #4ECDC4; font-size: 1.2rem;">Ø¶Ø¹ Ø£ÙˆÙ„ Ù‚Ø·Ø¹Ø© Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨</div>';
                return;
            }
            
            dominoEngine.board.forEach((tile, index) => {
                const tileElement = document.createElement('div');
                tileElement.className = 'domino-tile';
                tileElement.style.cssText = `
                    background: white;
                    border: 2px solid #333;
                    border-radius: 8px;
                    width: 50px;
                    height: 25px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-weight: bold;
                    color: #333;
                    font-size: 0.9rem;
                    margin: 2px;
                    box-shadow: 0 2px 5px rgba(0,0,0,0.3);
                `;
                
                if (tile.isDouble) {
                    tileElement.style.transform = 'rotate(90deg)';
                    tileElement.style.height = '50px';
                    tileElement.style.width = '25px';
                }
                
                tileElement.textContent = `${tile.left}|${tile.right}`;
                container.appendChild(tileElement);
            });
        }

        function renderPlayerHand() {
            const handContainer = document.getElementById('player-hand');
            if (!handContainer || !dominoEngine) return;
            
            handContainer.innerHTML = '';
            
            dominoEngine.playerHand.forEach((tile, index) => {
                const tileElement = document.createElement('div');
                tileElement.className = 'domino-tile player-tile';
                tileElement.style.cssText = `
                    background: linear-gradient(145deg, #f0f0f0, #e0e0e0);
                    border: 2px solid #333;
                    border-radius: 8px;
                    width: 60px;
                    height: 30px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-weight: bold;
                    color: #333;
                    font-size: 1rem;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    box-shadow: 0 3px 8px rgba(0,0,0,0.3);
                `;
                
                tileElement.textContent = `${tile.left}|${tile.right}`;
                tileElement.onclick = () => selectDominoTile(index);
                
                tileElement.onmouseover = () => {
                    tileElement.style.transform = 'translateY(-5px) scale(1.05)';
                    tileElement.style.boxShadow = '0 5px 15px rgba(76, 205, 196, 0.5)';
                };
                
                tileElement.onmouseout = () => {
                    tileElement.style.transform = 'translateY(0) scale(1)';
                    tileElement.style.boxShadow = '0 3px 8px rgba(0,0,0,0.3)';
                };
                
                handContainer.appendChild(tileElement);
            });
        }

        function selectDominoTile(index) {
            if (!dominoEngine || dominoEngine.currentPlayer !== 'player') return;
            
            const tile = dominoEngine.playerHand[index];
            const validMoves = dominoEngine.getValidMoves([tile]);
            
            if (validMoves.length > 0) {
                // ØªØ´ØºÙŠÙ„ Ø£ÙˆÙ„ Ø­Ø±ÙƒØ© ØµØ§Ù„Ø­Ø©
                const move = validMoves[0];
                dominoEngine.makeMove(move);
                playSound('move');
                renderDominoGame();
                
                // Ø¯ÙˆØ± Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±
                if (dominoEngine.gameMode === 'computer' && dominoEngine.currentPlayer === 'computer') {
                    setTimeout(() => {
                        dominoEngine.makeAIMove();
                        renderDominoGame();
                    }, 1000);
                }
            } else {
                alert('Ù„Ø§ ÙŠÙ…ÙƒÙ† Ù„Ø¹Ø¨ Ù‡Ø°Ù‡ Ø§Ù„Ù‚Ø·Ø¹Ø©. Ø¬Ø±Ø¨ Ù‚Ø·Ø¹Ø© Ø£Ø®Ø±Ù‰ Ø£Ùˆ Ø§Ø³Ø­Ø¨ Ù…Ù† Ø§Ù„Ù…Ø®Ø²ÙˆÙ†.');
            }
            
            updateDominoHints();
        }

        function drawTileDomino() {
            if (!dominoEngine) return;
            
            if (dominoEngine.drawTile()) {
                playSound('draw');
                renderDominoGame();
            } else {
                alert('Ù„Ø§ ØªÙˆØ¬Ø¯ Ù‚Ø·Ø¹ ÙÙŠ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†!');
            }
        }

        function updateDominoStatus() {
            const statusElement = document.getElementById('domino-status');
            const playerCountElement = document.getElementById('player-tiles-count');
            const computerCountElement = document.getElementById('computer-tiles-count');
            const stockCountElement = document.getElementById('stock-tiles-count');
            const currentPlayerElement = document.getElementById('domino-current-player');
            
            if (!statusElement || !dominoEngine) return;
            
            playerCountElement.textContent = `${dominoEngine.playerHand.length} Ù‚Ø·Ø¹`;
            computerCountElement.textContent = `${dominoEngine.computerHand.length} Ù‚Ø·Ø¹`;
            stockCountElement.textContent = `${dominoEngine.tiles.length} Ù‚Ø·Ø¹Ø©`;
            
            const currentPlayerText = dominoEngine.currentPlayer === 'player' ? 'Ø§Ù„Ù„Ø§Ø¹Ø¨' : 'Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±';
            currentPlayerElement.textContent = currentPlayerText;
            
            if (dominoEngine.gameStatus === 'finished') {
                const winner = dominoEngine.winner;
                if (winner === 'player') {
                    statusElement.textContent = 'ğŸ‰ Ù…Ø¨Ø±ÙˆÙƒ! Ù„Ù‚Ø¯ ÙØ²Øª!';
                } else if (winner === 'computer') {
                    statusElement.textContent = 'ğŸ˜” ÙØ§Ø² Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±. Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰!';
                } else {
                    statusElement.textContent = 'ğŸ¤ ØªØ¹Ø§Ø¯Ù„! Ù„Ø¹Ø¨Ø© Ù…Ù…ØªØ§Ø²Ø©!';
                }
            } else {
                if (dominoEngine.currentPlayer === 'player') {
                    statusElement.textContent = 'Ø¯ÙˆØ±Ùƒ - Ø§Ø®ØªØ± Ù‚Ø·Ø¹Ø© Ù„Ù„Ø¹Ø¨';
                } else {
                    statusElement.textContent = 'Ø¯ÙˆØ± Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ± - ÙŠÙÙƒØ±...';
                }
            }
        }

        function updateDominoHints() {
            if (!dominoEngine || !dominoTutorial) return;
            
            const hintElement = document.getElementById('domino-current-hint');
            const suggestionsElement = document.getElementById('domino-suggestions');
            
            // Ø§Ù„Ù†ØµØ§Ø¦Ø­ Ø§Ù„Ø°ÙƒÙŠØ©
            const hint = dominoTutorial.getSmartHint(dominoEngine);
            if (hint && hintElement) {
                hintElement.innerHTML = `<p style="margin: 0; color: #4ECDC4;">${hint}</p>`;
            }
            
            // Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª
            const suggestions = dominoTutorial.getSuggestedMoves(dominoEngine);
            if (suggestionsElement) {
                suggestionsElement.innerHTML = '';
                
                suggestions.slice(0, 3).forEach(suggestion => {
                    const suggestionElement = document.createElement('div');
                    suggestionElement.style.cssText = `
                        background: rgba(255,255,255,0.1);
                        border-radius: 10px;
                        padding: 10px;
                        cursor: pointer;
                        transition: all 0.3s ease;
                        border: 1px solid rgba(255,255,255,0.2);
                    `;
                    
                    suggestionElement.innerHTML = `
                        <div style="color: #FFD700; font-weight: 600; margin-bottom: 5px;">
                            ${suggestion.tile.left}|${suggestion.tile.right}
                        </div>
                        <div style="color: #4ECDC4; font-size: 0.9rem;">
                            ${suggestion.reason}
                        </div>
                    `;
                    
                    suggestionElement.onclick = () => {
                        const tileIndex = dominoEngine.playerHand.findIndex(t => 
                            t.left === suggestion.tile.left && t.right === suggestion.tile.right
                        );
                        if (tileIndex !== -1) {
                            selectDominoTile(tileIndex);
                        }
                    };
                    
                    suggestionElement.onmouseover = () => {
                        suggestionElement.style.background = 'rgba(255,255,255,0.2)';
                    };
                    
                    suggestionElement.onmouseout = () => {
                        suggestionElement.style.background = 'rgba(255,255,255,0.1)';
                    };
                    
                    suggestionsElement.appendChild(suggestionElement);
                });
            }
        }

        function resetDomino() {
            if (dominoEngine) {
                dominoEngine.reset();
                renderDominoGame();
                playSound('select');
            }
        }

        function toggleDominoMode() {
            if (dominoEngine) {
                dominoEngine.gameMode = dominoEngine.gameMode === 'computer' ? 'friend' : 'computer';
                const modeText = dominoEngine.gameMode === 'computer' ? 'Ø¶Ø¯ Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±' : 'Ù…Ø¹ ØµØ¯ÙŠÙ‚';
                alert(`ğŸ® ØªÙ… Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ ÙˆØ¶Ø¹: ${modeText}`);
                resetDomino();
            }
        }

        function toggleDominoLevel() {
            if (dominoEngine) {
                const levels = ['easy', 'medium', 'hard', 'expert'];
                const levelNames = ['Ø³Ù‡Ù„', 'Ù…ØªÙˆØ³Ø·', 'ØµØ¹Ø¨', 'Ø®Ø¨ÙŠØ±'];
                const currentIndex = levels.indexOf(dominoEngine.aiLevel);
                const nextIndex = (currentIndex + 1) % levels.length;
                
                dominoEngine.aiLevel = levels[nextIndex];
                document.getElementById('domino-level-btn').textContent = levelNames[nextIndex];
                alert(`âš¡ ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø¥Ù„Ù‰: ${levelNames[nextIndex]}`);
            }
        }
    </script>
</body>
</html>
