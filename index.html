<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🎮 موقع الألعاب التعليمي 🎯</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Cairo', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .header h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 50px;
        }

        .game-card {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            transition: all 0.3s ease;
            border: 1px solid rgba(255,255,255,0.2);
            cursor: pointer;
        }

        .game-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            background: rgba(255,255,255,0.15);
        }

        .game-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            display: block;
        }

        .game-title {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 15px;
            color: #FFD700;
        }

        .game-description {
            font-size: 1rem;
            margin-bottom: 25px;
            opacity: 0.9;
            line-height: 1.6;
        }

        .play-button {
            background: linear-gradient(45deg, #FF6B6B, #4ECDC4);
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            color: white;
            font-weight: 600;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Cairo', sans-serif;
        }

        .play-button:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(255,107,107,0.4);
        }

        .game-screen {
            display: none;
            background: rgba(255,255,255,0.05);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 30px;
            margin-top: 20px;
        }

        .game-screen.active {
            display: block;
        }

        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .game-controls {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .control-button {
            background: linear-gradient(45deg, #9C27B0, #673AB7);
            border: none;
            padding: 10px 20px;
            border-radius: 15px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Cairo', sans-serif;
            font-size: 0.9rem;
        }

        .control-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(156,39,176,0.4);
        }

        .back-button {
            background: linear-gradient(45deg, #FF5722, #E91E63);
        }

        .chess-board, .backgammon-board {
            display: grid;
            gap: 2px;
            margin: 20px auto;
            background: #8B4513;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .chess-board {
            grid-template-columns: repeat(8, 60px);
            grid-template-rows: repeat(8, 60px);
            max-width: 520px;
        }

        .chess-square {
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 8px;
        }

        .chess-square.light {
            background: #F0D9B5;
            color: #333;
        }

        .chess-square.dark {
            background: #B58863;
            color: #333;
        }

        .chess-square.selected {
            background: #FFD700 !important;
            box-shadow: 0 0 15px rgba(255,215,0,0.6);
        }

        .chess-square.valid-move {
            background: #90EE90 !important;
            box-shadow: 0 0 10px rgba(144,238,144,0.6);
        }

        .backgammon-board {
            grid-template-columns: repeat(12, 1fr);
            grid-template-rows: auto auto auto auto;
            max-width: 800px;
            background: linear-gradient(45deg, #8B4513, #A0522D);
            border: 5px solid #654321;
        }

        .backgammon-point {
            height: 150px;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding: 5px;
        }

        .backgammon-point.top {
            background: linear-gradient(180deg, #8B0000 0%, #CD853F 100%);
            clip-path: polygon(0 0, 100% 0, 50% 100%);
        }

        .backgammon-point.bottom {
            background: linear-gradient(0deg, #8B0000 0%, #CD853F 100%);
            clip-path: polygon(50% 0, 0 100%, 100% 100%);
        }

        .backgammon-point:nth-child(even) {
            background: linear-gradient(180deg, #2F4F4F 0%, #CD853F 100%);
        }

        .backgammon-point.bottom:nth-child(even) {
            background: linear-gradient(0deg, #2F4F4F 0%, #CD853F 100%);
        }

        .backgammon-piece {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            border: 2px solid #333;
            margin: 1px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
        }

        .backgammon-piece.white {
            background: radial-gradient(circle, #FFFFFF, #E0E0E0);
        }

        .backgammon-piece.black {
            background: radial-gradient(circle, #2C2C2C, #000000);
        }

        .game-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .info-card {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
        }

        .info-card h3 {
            color: #FFD700;
            margin-bottom: 10px;
        }

        .mode-selector {
            display: flex;
            gap: 15px;
            align-items: center;
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 15px;
            margin: 15px 0;
        }

        .radio-group {
            display: flex;
            gap: 20px;
        }

        .radio-option {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            padding: 8px 15px;
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        .radio-option:hover {
            background: rgba(255,255,255,0.1);
        }

        .radio-option input[type="radio"] {
            width: 18px;
            height: 18px;
            accent-color: #4ECDC4;
        }

        .tutorial-section {
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
        }

        .tutorial-content {
            display: none;
        }

        .tutorial-content.active {
            display: block;
        }

        .tutorial-nav {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        .tutorial-button {
            background: linear-gradient(45deg, #4ECDC4, #44A08D);
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            font-family: 'Cairo', sans-serif;
        }

        .hints-section {
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
        }

        .hint-item {
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .hint-item:hover {
            background: rgba(255,255,255,0.2);
            transform: translateX(-5px);
        }

        .footer {
            text-align: center;
            margin-top: 50px;
            padding: 30px;
            background: rgba(0,0,0,0.2);
            border-radius: 20px;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .games-grid {
                grid-template-columns: 1fr;
            }
            
            .chess-square {
                width: 40px;
                height: 40px;
                font-size: 1.8rem;
            }
            
            .chess-board {
                grid-template-columns: repeat(8, 40px);
                grid-template-rows: repeat(8, 40px);
            }
        }

        /* تحسينات للريموت كنترول */
        .focused {
            outline: 3px solid #4ECDC4;
            outline-offset: 2px;
            box-shadow: 0 0 15px rgba(78, 205, 196, 0.5);
        }

        .remote-hint {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 0.9rem;
            z-index: 1000;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- الصفحة الرئيسية -->
        <div id="main-menu">
            <div class="header">
                <h1>🎮 موقع الألعاب التعليمي 🎯</h1>
                <p>ألعاب ذكية وممتعة للكبار والصغار - مع دعم كامل للريموت كنترول</p>
            </div>

            <div class="games-grid">
                <div class="game-card" onclick="selectGame('chess')">
                    <span class="game-icon">♔</span>
                    <h3 class="game-title">الشطرنج</h3>
                    <p class="game-description">لعبة الملوك والاستراتيجية مع ذكاء اصطناعي متقدم ودروس تعليمية شاملة</p>
                    <button class="play-button">ابدأ اللعب</button>
                </div>

                <div class="game-card" onclick="selectGame('backgammon')">
                    <span class="game-icon">⚫</span>
                    <h3 class="game-title">الطاولة</h3>
                    <p class="game-description">اللعبة الشرقية الأصيلة مع محاكاة واقعية للنرد وذكاء اصطناعي ذكي</p>
                    <button class="play-button">ابدأ اللعب</button>
                </div>

                <div class="game-card" onclick="selectGame('domino')">
                    <span class="game-icon">⚀</span>
                    <h3 class="game-title">الدومينو</h3>
                    <p class="game-description">لعبة التفكير والتخطيط مع 28 قطعة كاملة وذكاء اصطناعي متطور</p>
                    <button class="play-button">ابدأ اللعب</button>
                </div>

                <div class="game-card" onclick="selectGame('coming-soon')">
                    <span class="game-icon">🚀</span>
                    <h3 class="game-title">حرب النجوم</h3>
                    <p class="game-description">مغامرة فضائية مثيرة مناسبة للأطفال من 3 سنوات مع رسوميات جميلة</p>
                    <button class="play-button">ابدأ المغامرة</button>
                </div>

                <div class="game-card" onclick="selectGame('coming-soon')">
                    <span class="game-icon">🏎️</span>
                    <h3 class="game-title">سباق السيارات</h3>
                    <p class="game-description">سرعة وإثارة على الطريق مع فيزياء واقعية وسهولة في التحكم</p>
                    <button class="play-button">ابدأ السباق</button>
                </div>

                <div class="game-card" onclick="selectGame('coming-soon')">
                    <span class="game-icon">🎲</span>
                    <h3 class="game-title">المزيد قريباً</h3>
                    <p class="game-description">نعمل على إضافة المزيد من الألعاب التعليمية والممتعة</p>
                    <button class="play-button">قريباً</button>
                </div>
            </div>

            <div class="game-info">
                <div class="info-card">
                    <h3>📺 دعم التلفزيون الذكي</h3>
                    <p>العب بريموت التلفزيون بسهولة تامة</p>
                </div>
                <div class="info-card">
                    <h3>🤖 ذكاء اصطناعي متقدم</h3>
                    <p>خصم ذكي يتحدى مهاراتك</p>
                </div>
                <div class="info-card">
                    <h3>🔊 أصوات واقعية</h3>
                    <p>تأثيرات صوتية مميزة لكل لعبة</p>
                </div>
                <div class="info-card">
                    <h3>📚 دروس تعليمية</h3>
                    <p>تعلم من الصفر حتى الاحتراف</p>
                </div>
            </div>

            <div class="tutorial-section">
                <h3>🎮 كيفية التحكم بالريموت</h3>
                <p>⬅️➡️⬆️⬇️ الأسهم للتنقل &nbsp;&nbsp; ✅ OK للاختيار &nbsp;&nbsp; 🔙 Back للرجوع &nbsp;&nbsp; 🏠 Home للقائمة الرئيسية</p>
            </div>
        </div>

        <!-- شاشة الشطرنج -->
        <div id="chess-game" class="game-screen">
            <div class="game-header">
                <h2>♔ لعبة الشطرنج</h2>
                <div class="game-controls">
                    <button class="control-button back-button" onclick="showMainMenu()">🔙 العودة للقائمة الرئيسية</button>
                    <button class="control-button" onclick="resetChess()">🔄 لعبة جديدة</button>
                    <button class="control-button" onclick="showChessTutorial()">📚 الدليل التعليمي</button>
                </div>
            </div>

            <!-- أزرار التحكم -->
            <div class="mode-selector">
                <span style="color: #FFD700; font-weight: 600;">وضع اللعب:</span>
                <div class="radio-group">
                    <label class="radio-option">
                        <input type="radio" name="chess-mode" value="computer" checked onchange="toggleChessMode()">
                        <span style="color: white;">🤖 ضد الكمبيوتر</span>
                    </label>
                    <label class="radio-option">
                        <input type="radio" name="chess-mode" value="friend" onchange="toggleChessMode()">
                        <span style="color: white;">👥 مع صديق</span>
                    </label>
                </div>
                
                <span style="color: #FFD700; font-weight: 600;">المستوى:</span>
                <button onclick="toggleChessLevel()" id="chess-level" class="control-button">متوسط</button>
            </div>

            <div id="chess-board" class="chess-board"></div>

            <div class="game-info">
                <div class="info-card">
                    <h3>اللاعب الحالي</h3>
                    <p id="chess-current-player">الأبيض</p>
                </div>
                <div class="info-card">
                    <h3>حالة اللعبة</h3>
                    <p id="chess-status">اختر قطعة للحركة</p>
                </div>
            </div>

            <!-- النصائح والاقتراحات -->
            <div class="hints-section">
                <h3>💡 النصائح والاقتراحات</h3>
                <div id="chess-current-hint">
                    <p style="color: #4ECDC4;">اختر قطعة لرؤية النصائح والحركات المقترحة</p>
                </div>
                <div id="chess-suggestions"></div>
            </div>
        </div>

        <!-- شاشة الطاولة -->
        <div id="backgammon-game" class="game-screen">
            <div class="game-header">
                <h2>⚫ لعبة الطاولة</h2>
                <div class="game-controls">
                    <button class="control-button back-button" onclick="showMainMenu()">🔙 العودة للقائمة الرئيسية</button>
                    <button class="control-button" onclick="resetBackgammon()">🔄 لعبة جديدة</button>
                    <button class="control-button" onclick="rollBackgammonDice()">🎲 رمي النرد</button>
                    <button class="control-button" onclick="showBackgammonTutorial()">📚 الدليل التعليمي</button>
                </div>
            </div>

            <!-- أزرار التحكم -->
            <div class="mode-selector">
                <span style="color: #FFD700; font-weight: 600;">وضع اللعب:</span>
                <div class="radio-group">
                    <label class="radio-option">
                        <input type="radio" name="backgammon-mode" value="computer" checked onchange="toggleBackgammonMode()">
                        <span style="color: white;">🤖 ضد الكمبيوتر</span>
                    </label>
                    <label class="radio-option">
                        <input type="radio" name="backgammon-mode" value="friend" onchange="toggleBackgammonMode()">
                        <span style="color: white;">👥 مع صديق</span>
                    </label>
                </div>
                
                <span style="color: #FFD700; font-weight: 600;">نوع اللعبة:</span>
                <button onclick="toggleBackgammonVariant()" id="backgammon-variant" class="control-button">الطاولة العادية</button>
                
                <span style="color: #FFD700; font-weight: 600;">المستوى:</span>
                <button onclick="toggleBackgammonLevel()" id="backgammon-level" class="control-button">متوسط</button>
            </div>

            <div class="game-info">
                <div class="info-card">
                    <h3>اللاعب الحالي</h3>
                    <p id="backgammon-current-player">الأبيض</p>
                </div>
                <div class="info-card">
                    <h3>النرد</h3>
                    <p id="backgammon-dice">🎲 🎲</p>
                </div>
                <div class="info-card">
                    <h3>حالة اللعبة</h3>
                    <p id="backgammon-status">اضغط "رمي النرد" لبدء اللعب</p>
                </div>
            </div>

            <div id="backgammon-board" class="backgammon-board"></div>

            <!-- النصائح والاقتراحات -->
            <div class="hints-section">
                <h3>🎲 النصائح والاقتراحات</h3>
                <div id="backgammon-current-hint">
                    <p style="color: #4ECDC4;">ارم النرد واختر قطعة لرؤية النصائح والحركات المقترحة</p>
                </div>
                <div id="backgammon-suggestions"></div>
            </div>
        </div>

        <!-- شاشة الدومينو -->
        <div id="domino-game" class="game-screen">
            <div class="game-header">
                <h2>⚀ لعبة الدومينو</h2>
                <div class="game-controls">
                    <button class="control-button back-button" onclick="showMainMenu()">🔙 العودة للقائمة الرئيسية</button>
                    <button class="control-button" onclick="resetDomino()">🔄 لعبة جديدة</button>
                    <button class="control-button" onclick="drawTileDomino()">📥 سحب قطعة</button>
                    <button class="control-button" onclick="showDominoTutorial()">📚 الدليل التعليمي</button>
                </div>
            </div>

            <!-- أزرار التحكم -->
            <div class="mode-selector">
                <span style="color: #FFD700; font-weight: 600;">وضع اللعب:</span>
                <div class="radio-group">
                    <label class="radio-option">
                        <input type="radio" name="domino-mode" value="computer" checked onchange="toggleDominoMode()">
                        <span style="color: white;">🤖 ضد الكمبيوتر</span>
                    </label>
                    <label class="radio-option">
                        <input type="radio" name="domino-mode" value="friend" onchange="toggleDominoMode()">
                        <span style="color: white;">👥 مع صديق</span>
                    </label>
                </div>
                
                <span style="color: #FFD700; font-weight: 600;">المستوى:</span>
                <button onclick="toggleDominoLevel()" id="domino-level-btn" class="control-button">متوسط</button>
            </div>

            <div class="game-info">
                <div class="info-card">
                    <h3>اللاعب الحالي</h3>
                    <p id="domino-current-player">اللاعب</p>
                </div>
                <div class="info-card">
                    <h3>قطع اللاعب</h3>
                    <p id="player-tiles-count">7 قطع</p>
                </div>
                <div class="info-card">
                    <h3>قطع الكمبيوتر</h3>
                    <p id="computer-tiles-count">7 قطع</p>
                </div>
                <div class="info-card">
                    <h3>المخزون</h3>
                    <p id="stock-tiles-count">14 قطعة</p>
                </div>
            </div>

            <div style="background: rgba(255,255,255,0.1); border-radius: 15px; padding: 20px; margin: 20px 0;">
                <h3 style="color: #FFD700; margin-bottom: 15px;">🎯 طاولة اللعب</h3>
                <div id="domino-tiles-container" style="display: flex; flex-wrap: wrap; justify-content: center; gap: 5px; min-height: 100px; align-items: center; background: #2E8B57; border-radius: 10px; padding: 20px;">
                    <div style="color: #4ECDC4; font-size: 1.2rem;">ضع أول قطعة لبدء اللعب</div>
                </div>
            </div>

            <div style="background: rgba(255,255,255,0.1); border-radius: 15px; padding: 20px; margin: 20px 0;">
                <h3 style="color: #FFD700; margin-bottom: 15px;">🎮 قطعك</h3>
                <div id="player-hand" style="display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; min-height: 80px; align-items: center;"></div>
            </div>

            <div class="info-card">
                <h3>حالة اللعبة</h3>
                <p id="domino-status">دورك - اختر قطعة للعب</p>
            </div>

            <!-- النصائح والاقتراحات -->
            <div class="hints-section">
                <h3>🎯 النصائح والاقتراحات</h3>
                <div id="domino-current-hint">
                    <p style="color: #4ECDC4;">اختر قطعة لرؤية النصائح والحركات المقترحة</p>
                </div>
                <div id="domino-suggestions"></div>
            </div>
        </div>

        <!-- التذييل -->
        <div class="footer">
            <p>🎮 برمجة وتطوير: محاسب أحمد مبروك</p>
            <p>موقع الألعاب التعليمي - تجربة تعليمية ممتعة للجميع</p>
        </div>
    </div>

    <!-- مؤشر الريموت كنترول -->
    <div class="remote-hint" id="remote-hint" style="display: none;">
        استخدم الأسهم للتنقل و OK للاختيار
    </div>

    <script>
        // متغيرات عامة
        let currentGame = null;
        let chessEngine = null;
        let backgammonEngine = null;
        let dominoEngine = null;
        let isRemoteControlMode = false;
        let focusedElement = null;

        // كشف التلفزيون الذكي
        function detectSmartTV() {
            const userAgent = navigator.userAgent.toLowerCase();
            const isTV = userAgent.includes('smart-tv') || 
                         userAgent.includes('smarttv') || 
                         userAgent.includes('tizen') || 
                         userAgent.includes('webos') || 
                         window.innerWidth > 1920;
            
            if (isTV) {
                isRemoteControlMode = true;
                document.getElementById('remote-hint').style.display = 'block';
                initRemoteControl();
            }
        }

        // تهيئة التحكم بالريموت
        function initRemoteControl() {
            document.addEventListener('keydown', handleRemoteControl);
            
            // تركيز على أول عنصر
            const firstCard = document.querySelector('.game-card');
            if (firstCard) {
                focusElement(firstCard);
            }
        }

        function handleRemoteControl(event) {
            if (!isRemoteControlMode) return;
            
            event.preventDefault();
            
            switch(event.key) {
                case 'ArrowUp':
                case 'ArrowDown':
                case 'ArrowLeft':
                case 'ArrowRight':
                    navigateElements(event.key);
                    break;
                case 'Enter':
                case 'OK':
                    if (focusedElement) {
                        focusedElement.click();
                    }
                    break;
                case 'Escape':
                case 'Back':
                    showMainMenu();
                    break;
                case 'Home':
                    showMainMenu();
                    break;
            }
        }

        function focusElement(element) {
            if (focusedElement) {
                focusedElement.classList.remove('focused');
            }
            focusedElement = element;
            element.classList.add('focused');
            element.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }

        function navigateElements(direction) {
            const focusableElements = document.querySelectorAll('.game-card, .control-button, .chess-square, .backgammon-point, .domino-tile');
            const currentIndex = Array.from(focusableElements).indexOf(focusedElement);
            
            let nextIndex = currentIndex;
            
            switch(direction) {
                case 'ArrowRight':
                    nextIndex = (currentIndex + 1) % focusableElements.length;
                    break;
                case 'ArrowLeft':
                    nextIndex = (currentIndex - 1 + focusableElements.length) % focusableElements.length;
                    break;
                case 'ArrowDown':
                    nextIndex = Math.min(currentIndex + 3, focusableElements.length - 1);
                    break;
                case 'ArrowUp':
                    nextIndex = Math.max(currentIndex - 3, 0);
                    break;
            }
            
            if (focusableElements[nextIndex]) {
                focusElement(focusableElements[nextIndex]);
            }
        }

        // تشغيل الأصوات
        function playSound(type) {
            // محاكاة الأصوات بالاهتزاز على الأجهزة المدعومة
            if (navigator.vibrate) {
                switch(type) {
                    case 'move':
                        navigator.vibrate(50);
                        break;
                    case 'capture':
                        navigator.vibrate([100, 50, 100]);
                        break;
                    case 'select':
                        navigator.vibrate(30);
                        break;
                    case 'win':
                        navigator.vibrate([200, 100, 200, 100, 200]);
                        break;
                }
            }
        }

        // === محرك الشطرنج المبسط ===
        class SimpleChessEngine {
            constructor() {
                this.board = this.createInitialBoard();
                this.currentPlayer = 'white';
                this.selectedSquare = null;
                this.gameMode = 'computer';
                this.aiLevel = 'medium';
                this.gameStatus = 'playing';
            }

            createInitialBoard() {
                const board = Array(8).fill().map(() => Array(8).fill(null));
                
                // القطع السوداء
                board[0] = ['♜', '♞', '♝', '♛', '♚', '♝', '♞', '♜'];
                board[1] = Array(8).fill('♟');
                
                // القطع البيضاء
                board[6] = Array(8).fill('♙');
                board[7] = ['♖', '♘', '♗', '♕', '♔', '♗', '♘', '♖'];
                
                return board;
            }

            isValidMove(fromRow, fromCol, toRow, toCol) {
                // تحقق بسيط من صحة الحركة
                if (toRow < 0 || toRow > 7 || toCol < 0 || toCol > 7) return false;
                
                const piece = this.board[fromRow][fromCol];
                const targetPiece = this.board[toRow][toCol];
                
                if (!piece) return false;
                
                // لا يمكن أكل قطعة من نفس اللون
                if (targetPiece && this.getPieceColor(piece) === this.getPieceColor(targetPiece)) {
                    return false;
                }
                
                return true; // تبسيط - قبول جميع الحركات الأساسية
            }

            getPieceColor(piece) {
                return ['♔', '♕', '♖', '♗', '♘', '♙'].includes(piece) ? 'white' : 'black';
            }

            makeMove(fromRow, fromCol, toRow, toCol) {
                if (!this.isValidMove(fromRow, fromCol, toRow, toCol)) return false;
                
                const piece = this.board[fromRow][fromCol];
                const targetPiece = this.board[toRow][toCol];
                
                this.board[toRow][toCol] = piece;
                this.board[fromRow][fromCol] = null;
                
                if (targetPiece) {
                    playSound('capture');
                } else {
                    playSound('move');
                }
                
                this.currentPlayer = this.currentPlayer === 'white' ? 'black' : 'white';
                return true;
            }

            makeAIMove() {
                // ذكاء اصطناعي بسيط - حركة عشوائية
                const moves = this.getAllValidMoves(this.currentPlayer);
                if (moves.length > 0) {
                    const randomMove = moves[Math.floor(Math.random() * moves.length)];
                    this.makeMove(randomMove.fromRow, randomMove.fromCol, randomMove.toRow, randomMove.toCol);
                }
            }

            getAllValidMoves(color) {
                const moves = [];
                for (let row = 0; row < 8; row++) {
                    for (let col = 0; col < 8; col++) {
                        const piece = this.board[row][col];
                        if (piece && this.getPieceColor(piece) === color) {
                            for (let toRow = 0; toRow < 8; toRow++) {
                                for (let toCol = 0; toCol < 8; toCol++) {
                                    if (this.isValidMove(row, col, toRow, toCol)) {
                                        moves.push({ fromRow: row, fromCol: col, toRow, toCol });
                                    }
                                }
                            }
                        }
                    }
                }
                return moves;
            }

            reset() {
                this.board = this.createInitialBoard();
                this.currentPlayer = 'white';
                this.selectedSquare = null;
                this.gameStatus = 'playing';
            }
        }

        // === محرك الطاولة المبسط ===
        class SimpleBackgammonEngine {
            constructor() {
                this.gameVariants = {
                    'standard': {
                        name: 'الطاولة العادية',
                        description: 'الطريقة التقليدية المعروفة عالمياً مع إمكانية الأسر',
                        rules: { startingPosition: 'standard', canHit: true, mustEnterFirst: true }
                    },
                    'plakoto': {
                        name: 'الطاولة الفرنجية',
                        description: 'القطع المأسورة تبقى في مكانها ولا تخرج من اللوحة',
                        rules: { startingPosition: 'plakoto', canHit: false, mustEnterFirst: false }
                    },
                    'fevga': {
                        name: 'الطاولة الموسى',
                        description: 'لا يمكن بناء أكثر من نقطة متتالية واحدة',
                        rules: { startingPosition: 'fevga', canHit: false, blockLimit: 1 }
                    },
                    'narde': {
                        name: 'الطاولة الأرمنية',
                        description: 'جميع القطع تتحرك في نفس الاتجاه',
                        rules: { startingPosition: 'narde', canHit: false, sameDirection: true }
                    }
                };
                
                this.gameVariant = 'standard';
                this.board = this.createInitialBoard();
                this.currentPlayer = 'white';
                this.dice = [0, 0];
                this.gameMode = 'computer';
                this.aiLevel = 'medium';
                this.gameStatus = 'playing';
            }

            createInitialBoard() {
                const board = Array(28).fill().map(() => ({ pieces: 0, color: null }));
                
                const variant = this.gameVariants[this.gameVariant];
                const startingPosition = variant.rules.startingPosition;
                
                switch (startingPosition) {
                    case 'standard':
                        board[1] = { pieces: 2, color: 'white' };
                        board[12] = { pieces: 5, color: 'white' };
                        board[17] = { pieces: 3, color: 'white' };
                        board[19] = { pieces: 5, color: 'white' };
                        
                        board[6] = { pieces: 5, color: 'black' };
                        board[8] = { pieces: 3, color: 'black' };
                        board[13] = { pieces: 5, color: 'black' };
                        board[24] = { pieces: 2, color: 'black' };
                        break;
                        
                    case 'plakoto':
                        board[1] = { pieces: 15, color: 'white' };
                        board[24] = { pieces: 15, color: 'black' };
                        break;
                        
                    case 'fevga':
                        board[1] = { pieces: 15, color: 'white' };
                        board[13] = { pieces: 15, color: 'black' };
                        break;
                        
                    case 'narde':
                        board[24] = { pieces: 15, color: 'white' };
                        board[12] = { pieces: 15, color: 'black' };
                        break;
                }
                
                return board;
            }

            setGameVariant(variant) {
                if (this.gameVariants[variant]) {
                    this.gameVariant = variant;
                    this.reset();
                }
            }

            rollDice() {
                this.dice = [
                    Math.floor(Math.random() * 6) + 1,
                    Math.floor(Math.random() * 6) + 1
                ];
                playSound('move');
                return this.dice;
            }

            reset() {
                this.board = this.createInitialBoard();
                this.currentPlayer = 'white';
                this.dice = [0, 0];
                this.gameStatus = 'playing';
            }
        }

        // === محرك الدومينو المبسط ===
        class SimpleDominoEngine {
            constructor() {
                this.tiles = this.createAllTiles();
                this.playerHand = [];
                this.computerHand = [];
                this.board = [];
                this.currentPlayer = 'player';
                this.gameMode = 'computer';
                this.aiLevel = 'medium';
                this.gameStatus = 'playing';
                this.winner = null;
                this.reset();
            }

            createAllTiles() {
                const tiles = [];
                for (let i = 0; i <= 6; i++) {
                    for (let j = i; j <= 6; j++) {
                        tiles.push({
                            left: i,
                            right: j,
                            isDouble: i === j
                        });
                    }
                }
                return this.shuffleArray(tiles);
            }

            shuffleArray(array) {
                const shuffled = [...array];
                for (let i = shuffled.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
                }
                return shuffled;
            }

            reset() {
                this.tiles = this.createAllTiles();
                this.playerHand = this.tiles.splice(0, 7);
                this.computerHand = this.tiles.splice(0, 7);
                this.board = [];
                this.currentPlayer = 'player';
                this.gameStatus = 'playing';
                this.winner = null;
            }

            getValidMoves(hand) {
                if (this.board.length === 0) {
                    return hand.map(tile => ({ tile, position: 'start' }));
                }
                
                const moves = [];
                const leftEnd = this.board[0].left;
                const rightEnd = this.board[this.board.length - 1].right;
                
                hand.forEach(tile => {
                    if (tile.left === leftEnd || tile.right === leftEnd) {
                        moves.push({ tile, position: 'left' });
                    }
                    if (tile.left === rightEnd || tile.right === rightEnd) {
                        moves.push({ tile, position: 'right' });
                    }
                });
                
                return moves;
            }

            makeMove(move) {
                const { tile, position } = move;
                
                if (position === 'start') {
                    this.board.push(tile);
                } else if (position === 'left') {
                    this.board.unshift(tile);
                } else if (position === 'right') {
                    this.board.push(tile);
                }
                
                // إزالة القطعة من يد اللاعب
                if (this.currentPlayer === 'player') {
                    const index = this.playerHand.indexOf(tile);
                    if (index > -1) this.playerHand.splice(index, 1);
                } else {
                    const index = this.computerHand.indexOf(tile);
                    if (index > -1) this.computerHand.splice(index, 1);
                }
                
                this.checkWinCondition();
                this.currentPlayer = this.currentPlayer === 'player' ? 'computer' : 'player';
                
                return true;
            }

            makeAIMove() {
                const validMoves = this.getValidMoves(this.computerHand);
                if (validMoves.length > 0) {
                    const randomMove = validMoves[Math.floor(Math.random() * validMoves.length)];
                    this.makeMove(randomMove);
                    return true;
                }
                return false;
            }

            drawTile() {
                if (this.tiles.length > 0) {
                    const tile = this.tiles.pop();
                    if (this.currentPlayer === 'player') {
                        this.playerHand.push(tile);
                    } else {
                        this.computerHand.push(tile);
                    }
                    return true;
                }
                return false;
            }

            checkWinCondition() {
                if (this.playerHand.length === 0) {
                    this.winner = 'player';
                    this.gameStatus = 'finished';
                } else if (this.computerHand.length === 0) {
                    this.winner = 'computer';
                    this.gameStatus = 'finished';
                }
            }
        }

        // === وظائف الواجهة ===

        function showMainMenu() {
            document.getElementById('main-menu').style.display = 'block';
            document.querySelectorAll('.game-screen').forEach(screen => {
                screen.classList.remove('active');
            });
            currentGame = null;
            playSound('select');
        }

        function selectGame(gameType) {
            playSound('select');
            
            document.getElementById('main-menu').style.display = 'none';
            
            if (gameType === 'chess') {
                document.getElementById('chess-game').classList.add('active');
                initChess();
            } else if (gameType === 'backgammon') {
                document.getElementById('backgammon-game').classList.add('active');
                initBackgammon();
            } else if (gameType === 'domino') {
                document.getElementById('domino-game').classList.add('active');
                initDomino();
            } else if (gameType === 'coming-soon') {
                alert('🎮 هذه اللعبة قيد التطوير وستكون متاحة قريباً!');
                showMainMenu();
            }
        }

        // === وظائف الشطرنج ===

        function initChess() {
            if (!chessEngine) {
                chessEngine = new SimpleChessEngine();
            }
            renderChessBoard();
            updateChessStatus();
            currentGame = 'chess';
        }

        function renderChessBoard() {
            const board = document.getElementById('chess-board');
            board.innerHTML = '';
            
            for (let row = 0; row < 8; row++) {
                for (let col = 0; col < 8; col++) {
                    const square = document.createElement('div');
                    square.className = `chess-square ${(row + col) % 2 === 0 ? 'light' : 'dark'}`;
                    square.textContent = chessEngine.board[row][col] || '';
                    square.onclick = () => handleChessSquareClick(row, col);
                    board.appendChild(square);
                }
            }
        }

        function handleChessSquareClick(row, col) {
            if (chessEngine.selectedSquare) {
                const [fromRow, fromCol] = chessEngine.selectedSquare;
                if (chessEngine.makeMove(fromRow, fromCol, row, col)) {
                    chessEngine.selectedSquare = null;
                    renderChessBoard();
                    updateChessStatus();
                    
                    // دور الكمبيوتر
                    if (chessEngine.gameMode === 'computer' && chessEngine.currentPlayer === 'black') {
                        setTimeout(() => {
                            chessEngine.makeAIMove();
                            renderChessBoard();
                            updateChessStatus();
                        }, 1000);
                    }
                }
            } else {
                const piece = chessEngine.board[row][col];
                if (piece && chessEngine.getPieceColor(piece) === chessEngine.currentPlayer) {
                    chessEngine.selectedSquare = [row, col];
                    renderChessBoard();
                    
                    // تمييز المربع المحدد
                    const squares = document.querySelectorAll('.chess-square');
                    squares[row * 8 + col].classList.add('selected');
                }
            }
        }

        function updateChessStatus() {
            const currentPlayerText = chessEngine.currentPlayer === 'white' ? 'الأبيض' : 'الأسود';
            document.getElementById('chess-current-player').textContent = currentPlayerText;
            document.getElementById('chess-status').textContent = `دور ${currentPlayerText}`;
        }

        function resetChess() {
            chessEngine.reset();
            renderChessBoard();
            updateChessStatus();
            playSound('select');
        }

        function toggleChessMode() {
            const radios = document.querySelectorAll('input[name="chess-mode"]');
            const selectedMode = Array.from(radios).find(radio => radio.checked).value;
            chessEngine.gameMode = selectedMode;
            alert(`🎮 تم التبديل إلى وضع: ${selectedMode === 'computer' ? 'ضد الكمبيوتر' : 'مع صديق'}`);
        }

        function toggleChessLevel() {
            const levels = ['easy', 'medium', 'hard', 'expert'];
            const levelNames = ['سهل', 'متوسط', 'صعب', 'خبير'];
            const currentIndex = levels.indexOf(chessEngine.aiLevel);
            const nextIndex = (currentIndex + 1) % levels.length;
            
            chessEngine.aiLevel = levels[nextIndex];
            document.getElementById('chess-level').textContent = levelNames[nextIndex];
            alert(`⚡ تم تغيير المستوى إلى: ${levelNames[nextIndex]}`);
        }

        function showChessTutorial() {
            alert('📚 الدليل التعليمي للشطرنج\n\n♔ الملك: يتحرك مربع واحد في أي اتجاه\n♕ الملكة: تتحرك في أي اتجاه لأي مسافة\n♖ القلعة: تتحرك أفقياً وعمودياً\n♗ الفيل: يتحرك قطرياً\n♘ الحصان: يتحرك على شكل L\n♙ البيدق: يتحرك للأمام مربع واحد');
        }

        // === وظائف الطاولة ===

        function initBackgammon() {
            if (!backgammonEngine) {
                backgammonEngine = new SimpleBackgammonEngine();
            }
            renderBackgammonBoard();
            updateBackgammonStatus();
            currentGame = 'backgammon';
        }

        function renderBackgammonBoard() {
            const board = document.getElementById('backgammon-board');
            board.innerHTML = '';
            
            // إنشاء 24 نقطة
            for (let i = 1; i <= 24; i++) {
                const point = document.createElement('div');
                point.className = `backgammon-point ${i <= 12 ? 'top' : 'bottom'}`;
                point.onclick = () => handleBackgammonPointClick(i);
                
                const pointData = backgammonEngine.board[i];
                if (pointData && pointData.pieces > 0) {
                    for (let j = 0; j < Math.min(pointData.pieces, 5); j++) {
                        const piece = document.createElement('div');
                        piece.className = `backgammon-piece ${pointData.color}`;
                        point.appendChild(piece);
                    }
                    
                    if (pointData.pieces > 5) {
                        const counter = document.createElement('div');
                        counter.textContent = pointData.pieces;
                        counter.style.cssText = 'color: white; font-weight: bold; font-size: 0.8rem;';
                        point.appendChild(counter);
                    }
                }
                
                board.appendChild(point);
            }
        }

        function handleBackgammonPointClick(pointIndex) {
            // منطق بسيط للطاولة
            playSound('move');
            updateBackgammonStatus();
        }

        function rollBackgammonDice() {
            const dice = backgammonEngine.rollDice();
            document.getElementById('backgammon-dice').textContent = `🎲 ${dice[0]} 🎲 ${dice[1]}`;
            updateBackgammonStatus();
        }

        function updateBackgammonStatus() {
            const currentPlayerText = backgammonEngine.currentPlayer === 'white' ? 'الأبيض' : 'الأسود';
            document.getElementById('backgammon-current-player').textContent = currentPlayerText;
            document.getElementById('backgammon-status').textContent = `دور ${currentPlayerText}`;
        }

        function resetBackgammon() {
            backgammonEngine.reset();
            document.getElementById('backgammon-dice').textContent = '🎲 🎲';
            renderBackgammonBoard();
            updateBackgammonStatus();
            playSound('select');
        }

        function toggleBackgammonMode() {
            const radios = document.querySelectorAll('input[name="backgammon-mode"]');
            const selectedMode = Array.from(radios).find(radio => radio.checked).value;
            backgammonEngine.gameMode = selectedMode;
            alert(`🎮 تم التبديل إلى وضع: ${selectedMode === 'computer' ? 'ضد الكمبيوتر' : 'مع صديق'}`);
        }

        function toggleBackgammonLevel() {
            const levels = ['easy', 'medium', 'hard', 'expert'];
            const levelNames = ['سهل', 'متوسط', 'صعب', 'خبير'];
            const currentIndex = levels.indexOf(backgammonEngine.aiLevel);
            const nextIndex = (currentIndex + 1) % levels.length;
            
            backgammonEngine.aiLevel = levels[nextIndex];
            document.getElementById('backgammon-level').textContent = levelNames[nextIndex];
            alert(`⚡ تم تغيير المستوى إلى: ${levelNames[nextIndex]}`);
        }

        function toggleBackgammonVariant() {
            const variants = Object.keys(backgammonEngine.gameVariants);
            const currentIndex = variants.indexOf(backgammonEngine.gameVariant);
            const nextIndex = (currentIndex + 1) % variants.length;
            const nextVariant = variants[nextIndex];
            
            backgammonEngine.setGameVariant(nextVariant);
            const variantName = backgammonEngine.gameVariants[nextVariant].name;
            const variantDescription = backgammonEngine.gameVariants[nextVariant].description;
            
            document.getElementById('backgammon-variant').textContent = variantName;
            renderBackgammonBoard();
            
            alert(`🎯 تم التبديل إلى: ${variantName}\n\n📝 ${variantDescription}`);
        }

        function showBackgammonTutorial() {
            alert('📚 الدليل التعليمي للطاولة\n\n🎯 الهدف: نقل جميع قطعك إلى البيت ثم إنزالها\n🎲 النرد: ارم النردين وحرك قطعك حسب الأرقام\n⚫ الأسر: يمكن أسر قطعة واحدة معزولة\n🏠 الإنزال: يجب إدخال جميع القطع للبيت أولاً');
        }

        // === وظائف الدومينو ===

        function initDomino() {
            if (!dominoEngine) {
                dominoEngine = new SimpleDominoEngine();
            }
            renderDominoGame();
            currentGame = 'domino';
        }

        function renderDominoGame() {
            renderDominoBoard();
            renderPlayerHand();
            updateDominoStatus();
        }

        function renderDominoBoard() {
            const container = document.getElementById('domino-tiles-container');
            container.innerHTML = '';
            
            if (dominoEngine.board.length === 0) {
                container.innerHTML = '<div style="color: #4ECDC4; font-size: 1.2rem;">ضع أول قطعة لبدء اللعب</div>';
                return;
            }
            
            dominoEngine.board.forEach((tile, index) => {
                const tileElement = document.createElement('div');
                tileElement.className = 'domino-tile';
                tileElement.style.cssText = `
                    background: white;
                    border: 2px solid #333;
                    border-radius: 8px;
                    width: 50px;
                    height: 25px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-weight: bold;
                    color: #333;
                    font-size: 0.9rem;
                    margin: 2px;
                    box-shadow: 0 2px 5px rgba(0,0,0,0.3);
                `;
                
                if (tile.isDouble) {
                    tileElement.style.transform = 'rotate(90deg)';
                    tileElement.style.height = '50px';
                    tileElement.style.width = '25px';
                }
                
                tileElement.textContent = `${tile.left}|${tile.right}`;
                container.appendChild(tileElement);
            });
        }

        function renderPlayerHand() {
            const handContainer = document.getElementById('player-hand');
            handContainer.innerHTML = '';
            
            dominoEngine.playerHand.forEach((tile, index) => {
                const tileElement = document.createElement('div');
                tileElement.className = 'domino-tile player-tile';
                tileElement.style.cssText = `
                    background: linear-gradient(145deg, #f0f0f0, #e0e0e0);
                    border: 2px solid #333;
                    border-radius: 8px;
                    width: 60px;
                    height: 30px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-weight: bold;
                    color: #333;
                    font-size: 1rem;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    box-shadow: 0 3px 8px rgba(0,0,0,0.3);
                `;
                
                tileElement.textContent = `${tile.left}|${tile.right}`;
                tileElement.onclick = () => selectDominoTile(index);
                
                tileElement.onmouseover = () => {
                    tileElement.style.transform = 'translateY(-5px) scale(1.05)';
                    tileElement.style.boxShadow = '0 5px 15px rgba(76, 205, 196, 0.5)';
                };
                
                tileElement.onmouseout = () => {
                    tileElement.style.transform = 'translateY(0) scale(1)';
                    tileElement.style.boxShadow = '0 3px 8px rgba(0,0,0,0.3)';
                };
                
                handContainer.appendChild(tileElement);
            });
        }

        function selectDominoTile(index) {
            if (dominoEngine.currentPlayer !== 'player') return;
            
            const tile = dominoEngine.playerHand[index];
            const validMoves = dominoEngine.getValidMoves([tile]);
            
            if (validMoves.length > 0) {
                const move = validMoves[0];
                dominoEngine.makeMove(move);
                playSound('move');
                renderDominoGame();
                
                // دور الكمبيوتر
                if (dominoEngine.gameMode === 'computer' && dominoEngine.currentPlayer === 'computer') {
                    setTimeout(() => {
                        dominoEngine.makeAIMove();
                        renderDominoGame();
                    }, 1000);
                }
            } else {
                alert('لا يمكن لعب هذه القطعة. جرب قطعة أخرى أو اسحب من المخزون.');
            }
        }

        function drawTileDomino() {
            if (dominoEngine.drawTile()) {
                playSound('move');
                renderDominoGame();
            } else {
                alert('لا توجد قطع في المخزون!');
            }
        }

        function updateDominoStatus() {
            document.getElementById('player-tiles-count').textContent = `${dominoEngine.playerHand.length} قطع`;
            document.getElementById('computer-tiles-count').textContent = `${dominoEngine.computerHand.length} قطع`;
            document.getElementById('stock-tiles-count').textContent = `${dominoEngine.tiles.length} قطعة`;
            
            const currentPlayerText = dominoEngine.currentPlayer === 'player' ? 'اللاعب' : 'الكمبيوتر';
            document.getElementById('domino-current-player').textContent = currentPlayerText;
            
            if (dominoEngine.gameStatus === 'finished') {
                const winner = dominoEngine.winner;
                if (winner === 'player') {
                    document.getElementById('domino-status').textContent = '🎉 مبروك! لقد فزت!';
                } else if (winner === 'computer') {
                    document.getElementById('domino-status').textContent = '😔 فاز الكمبيوتر. حاول مرة أخرى!';
                } else {
                    document.getElementById('domino-status').textContent = '🤝 تعادل! لعبة ممتازة!';
                }
            } else {
                if (dominoEngine.currentPlayer === 'player') {
                    document.getElementById('domino-status').textContent = 'دورك - اختر قطعة للعب';
                } else {
                    document.getElementById('domino-status').textContent = 'دور الكمبيوتر - يفكر...';
                }
            }
        }

        function resetDomino() {
            dominoEngine.reset();
            renderDominoGame();
            playSound('select');
        }

        function toggleDominoMode() {
            const radios = document.querySelectorAll('input[name="domino-mode"]');
            const selectedMode = Array.from(radios).find(radio => radio.checked).value;
            dominoEngine.gameMode = selectedMode;
            alert(`🎮 تم التبديل إلى وضع: ${selectedMode === 'computer' ? 'ضد الكمبيوتر' : 'مع صديق'}`);
            resetDomino();
        }

        function toggleDominoLevel() {
            const levels = ['easy', 'medium', 'hard', 'expert'];
            const levelNames = ['سهل', 'متوسط', 'صعب', 'خبير'];
            const currentIndex = levels.indexOf(dominoEngine.aiLevel);
            const nextIndex = (currentIndex + 1) % levels.length;
            
            dominoEngine.aiLevel = levels[nextIndex];
            document.getElementById('domino-level-btn').textContent = levelNames[nextIndex];
            alert(`⚡ تم تغيير المستوى إلى: ${levelNames[nextIndex]}`);
        }

        function showDominoTutorial() {
            alert('📚 الدليل التعليمي للدومينو\n\n🎯 الهدف: تخلص من جميع قطعك أولاً\n⚀ القطع: 28 قطعة من 0|0 إلى 6|6\n🔗 اللعب: ضع قطعة تطابق أحد طرفي الخط\n🏆 الفوز: أول من ينهي قطعه يفوز');
        }

        // تهيئة الموقع
        document.addEventListener('DOMContentLoaded', function() {
            detectSmartTV();
            
            // إضافة مستمعي الأحداث للأزرار الراديو
            document.querySelectorAll('input[type="radio"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    playSound('select');
                });
            });
        });
    </script>
</body>
</html>
