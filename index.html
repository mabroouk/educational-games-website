<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ® Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠ ğŸ¯</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Cairo', sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            color: white;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 50px;
            animation: fadeInDown 1s ease-out;
        }

        .header h1 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            background: linear-gradient(45deg, #FFD700, #FFA500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }

        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 50px;
        }

        .game-card {
            background: linear-gradient(145deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            transition: all 0.3s ease;
            cursor: pointer;
            animation: fadeInUp 0.8s ease-out;
        }

        .game-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            background: linear-gradient(145deg, rgba(255,255,255,0.2), rgba(255,255,255,0.1));
        }

        .game-card.focused {
            transform: translateY(-10px);
            box-shadow: 0 0 30px #FFD700;
            border: 2px solid #FFD700;
        }

        .game-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            display: block;
        }

        .game-title {
            font-size: 1.8rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: #FFD700;
        }

        .game-description {
            font-size: 1rem;
            opacity: 0.8;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .play-button {
            background: linear-gradient(45deg, #FF6B6B, #4ECDC4);
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            color: white;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Cairo', sans-serif;
        }

        .play-button:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .features {
            background: linear-gradient(145deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .features h2 {
            text-align: center;
            font-size: 2rem;
            margin-bottom: 30px;
            color: #FFD700;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .feature-item {
            text-align: center;
            padding: 20px;
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
        }

        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            display: block;
        }

        .controls {
            background: linear-gradient(145deg, rgba(0,255,0,0.1), rgba(0,200,0,0.05));
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            text-align: center;
        }

        .controls h3 {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: #90EE90;
        }

        .control-keys {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .key {
            background: rgba(255,255,255,0.2);
            padding: 10px 15px;
            border-radius: 10px;
            font-weight: 600;
            border: 1px solid rgba(255,255,255,0.3);
        }

        .footer {
            text-align: center;
            padding: 30px;
            border-top: 1px solid rgba(255,255,255,0.2);
            margin-top: 50px;
        }

        .game-area {
            display: none;
            background: rgba(255,255,255,0.1);
            border-radius: 20px;
            padding: 30px;
            margin-top: 30px;
            backdrop-filter: blur(10px);
        }

        .game-area.active {
            display: block;
            animation: fadeIn 0.5s ease-out;
        }

        .back-button {
            background: linear-gradient(45deg, #FF4757, #FF3838);
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            margin-bottom: 20px;
            font-family: 'Cairo', sans-serif;
        }

        .chess-board {
            display: grid;
            grid-template-columns: repeat(8, 60px);
            grid-template-rows: repeat(8, 60px);
            gap: 2px;
            margin: 20px auto;
            border: 4px solid #8B4513;
            border-radius: 10px;
            background: #8B4513;
        }

        .chess-square {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .chess-square.light {
            background: #F0D9B5;
            color: #333;
        }

        .chess-square.dark {
            background: #B58863;
            color: #333;
        }

        .chess-square.selected {
            box-shadow: inset 0 0 0 3px #FFD700;
        }

        .chess-square.possible-move {
            box-shadow: inset 0 0 0 3px #FF4757;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .games-grid {
                grid-template-columns: 1fr;
            }
            
            .chess-board {
                grid-template-columns: repeat(8, 40px);
                grid-template-rows: repeat(8, 40px);
            }
            
            .chess-square {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>ğŸ® Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠ ğŸ¯</h1>
            <p>Ø£Ù„Ø¹Ø§Ø¨ Ø°ÙƒÙŠØ© ÙˆÙ…Ù…ØªØ¹Ø© Ù„Ù„ÙƒØ¨Ø§Ø± ÙˆØ§Ù„ØµØºØ§Ø± - Ù…Ø¹ Ø¯Ø¹Ù… ÙƒØ§Ù…Ù„ Ù„Ù„Ø±ÙŠÙ…ÙˆØª ÙƒÙ†ØªØ±ÙˆÙ„</p>
        </header>

        <div id="main-menu">
            <div class="games-grid">
                <div class="game-card" data-game="chess" tabindex="0">
                    <span class="game-icon">â™”</span>
                    <h3 class="game-title">Ø§Ù„Ø´Ø·Ø±Ù†Ø¬</h3>
                    <p class="game-description">Ù„Ø¹Ø¨Ø© Ø§Ù„Ù…Ù„ÙˆÙƒ ÙˆØ§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ù…Ø¹ Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù…ØªÙ‚Ø¯Ù… ÙˆØ¯Ø±ÙˆØ³ ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø´Ø§Ù…Ù„Ø©</p>
                    <button class="play-button">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨</button>
                </div>

                <div class="game-card" data-game="backgammon" tabindex="0">
                    <span class="game-icon">âš«</span>
                    <h3 class="game-title">Ø§Ù„Ø·Ø§ÙˆÙ„Ø©</h3>
                    <p class="game-description">Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„Ø´Ø±Ù‚ÙŠØ© Ø§Ù„Ø£ØµÙŠÙ„Ø© Ù…Ø¹ Ù…Ø­Ø§ÙƒØ§Ø© ÙˆØ§Ù‚Ø¹ÙŠØ© Ù„Ù„Ù†Ø±Ø¯ ÙˆØ°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø°ÙƒÙŠ</p>
                    <button class="play-button">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨</button>
                </div>

                <div class="game-card" data-game="domino" tabindex="0">
                    <span class="game-icon">âš€</span>
                    <h3 class="game-title">Ø§Ù„Ø¯ÙˆÙ…ÙŠÙ†Ùˆ</h3>
                    <p class="game-description">Ù„Ø¹Ø¨Ø© Ø§Ù„ØªÙÙƒÙŠØ± ÙˆØ§Ù„ØªØ®Ø·ÙŠØ· Ù…Ø¹ 28 Ù‚Ø·Ø¹Ø© ÙƒØ§Ù…Ù„Ø© ÙˆØ°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù…ØªØ·ÙˆØ±</p>
                    <button class="play-button">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨</button>
                </div>

                <div class="game-card" data-game="spaceshooter" tabindex="0">
                    <span class="game-icon">ğŸš€</span>
                    <h3 class="game-title">Ø­Ø±Ø¨ Ø§Ù„Ù†Ø¬ÙˆÙ…</h3>
                    <p class="game-description">Ù…ØºØ§Ù…Ø±Ø© ÙØ¶Ø§Ø¦ÙŠØ© Ù…Ø«ÙŠØ±Ø© Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„Ø£Ø·ÙØ§Ù„ Ù…Ù† 3 Ø³Ù†ÙˆØ§Øª Ù…Ø¹ Ø±Ø³ÙˆÙ…ÙŠØ§Øª Ø¬Ù…ÙŠÙ„Ø©</p>
                    <button class="play-button">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù…ØºØ§Ù…Ø±Ø©</button>
                </div>

                <div class="game-card" data-game="carracing" tabindex="0">
                    <span class="game-icon">ğŸï¸</span>
                    <h3 class="game-title">Ø³Ø¨Ø§Ù‚ Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª</h3>
                    <p class="game-description">Ø³Ø±Ø¹Ø© ÙˆØ¥Ø«Ø§Ø±Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø·Ø±ÙŠÙ‚ Ù…Ø¹ ÙÙŠØ²ÙŠØ§Ø¡ ÙˆØ§Ù‚Ø¹ÙŠØ© ÙˆØ³Ù‡ÙˆÙ„Ø© ÙÙŠ Ø§Ù„ØªØ­ÙƒÙ…</p>
                    <button class="play-button">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø³Ø¨Ø§Ù‚</button>
                </div>

                <div class="game-card" data-game="coming-soon" tabindex="0">
                    <span class="game-icon">ğŸ²</span>
                    <h3 class="game-title">Ø§Ù„Ù…Ø²ÙŠØ¯ Ù‚Ø±ÙŠØ¨Ø§Ù‹</h3>
                    <p class="game-description">Ù†Ø¹Ù…Ù„ Ø¹Ù„Ù‰ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© ÙˆØ§Ù„Ù…Ù…ØªØ¹Ø©</p>
                    <button class="play-button" disabled>Ù‚Ø±ÙŠØ¨Ø§Ù‹</button>
                </div>
            </div>

            <div class="features">
                <h2>âœ¨ Ù…ÙŠØ²Ø§Øª Ø®Ø§ØµØ© âœ¨</h2>
                <div class="features-grid">
                    <div class="feature-item">
                        <span class="feature-icon">ğŸ“º</span>
                        <h4>Ø¯Ø¹Ù… Ø§Ù„ØªÙ„ÙØ²ÙŠÙˆÙ† Ø§Ù„Ø°ÙƒÙŠ</h4>
                        <p>Ø§Ù„Ø¹Ø¨ Ø¨Ø±ÙŠÙ…ÙˆØª Ø§Ù„ØªÙ„ÙØ²ÙŠÙˆÙ† Ø¨Ø³Ù‡ÙˆÙ„Ø© ØªØ§Ù…Ø©</p>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon">ğŸ¤–</span>
                        <h4>Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù…ØªÙ‚Ø¯Ù…</h4>
                        <p>Ø®ØµÙ… Ø°ÙƒÙŠ ÙŠØªØ­Ø¯Ù‰ Ù…Ù‡Ø§Ø±Ø§ØªÙƒ</p>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon">ğŸ”Š</span>
                        <h4>Ø£ØµÙˆØ§Øª ÙˆØ§Ù‚Ø¹ÙŠØ©</h4>
                        <p>ØªØ£Ø«ÙŠØ±Ø§Øª ØµÙˆØªÙŠØ© Ù…Ù…ÙŠØ²Ø© Ù„ÙƒÙ„ Ù„Ø¹Ø¨Ø©</p>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon">ğŸ“š</span>
                        <h4>Ø¯Ø±ÙˆØ³ ØªØ¹Ù„ÙŠÙ…ÙŠØ©</h4>
                        <p>ØªØ¹Ù„Ù… Ù…Ù† Ø§Ù„ØµÙØ± Ø­ØªÙ‰ Ø§Ù„Ø§Ø­ØªØ±Ø§Ù</p>
                    </div>
                </div>
            </div>

            <div class="controls">
                <h3>ğŸ® ÙƒÙŠÙÙŠØ© Ø§Ù„ØªØ­ÙƒÙ… Ø¨Ø§Ù„Ø±ÙŠÙ…ÙˆØª</h3>
                <div class="control-keys">
                    <span class="key">â¬…ï¸â¡ï¸â¬†ï¸â¬‡ï¸ Ø§Ù„Ø£Ø³Ù‡Ù… Ù„Ù„ØªÙ†Ù‚Ù„</span>
                    <span class="key">âœ… OK Ù„Ù„Ø§Ø®ØªÙŠØ§Ø±</span>
                    <span class="key">ğŸ”™ Back Ù„Ù„Ø±Ø¬ÙˆØ¹</span>
                    <span class="key">ğŸ  Home Ù„Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
                </div>
            </div>
        </div>

        <!-- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ -->
        <div id="chess-game" class="game-area">
            <button class="back-button" onclick="showMainMenu()">ğŸ”™ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
            <h2 style="text-align: center; margin-bottom: 20px;">â™” Ù„Ø¹Ø¨Ø© Ø§Ù„Ø´Ø·Ø±Ù†Ø¬ â™›</h2>
            <div style="text-align: center; margin-bottom: 20px;">
                <button onclick="resetChess()" style="background: linear-gradient(45deg, #4ECDC4, #44A08D); border: none; padding: 10px 20px; border-radius: 20px; color: white; font-weight: 600; cursor: pointer; margin: 0 10px; font-family: 'Cairo', sans-serif;">ğŸ”„ Ù„Ø¹Ø¨Ø© Ø¬Ø¯ÙŠØ¯Ø©</button>
                <button onclick="toggleSound()" style="background: linear-gradient(45deg, #FFA726, #FF7043); border: none; padding: 10px 20px; border-radius: 20px; color: white; font-weight: 600; cursor: pointer; margin: 0 10px; font-family: 'Cairo', sans-serif;">ğŸ”Š Ø§Ù„ØµÙˆØª</button>
            </div>
            <div class="chess-board" id="chess-board"></div>
            <div style="text-align: center; margin-top: 20px;">
                <p id="game-status" style="font-size: 1.2rem; font-weight: 600;">Ø¯ÙˆØ± Ø§Ù„Ø£Ø¨ÙŠØ¶</p>
            </div>
        </div>

        <div id="other-games" class="game-area">
            <button class="back-button" onclick="showMainMenu()">ğŸ”™ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
            <h2 style="text-align: center; margin-bottom: 20px;" id="current-game-title">Ø§Ù„Ù„Ø¹Ø¨Ø©</h2>
            <div style="text-align: center; padding: 50px;">
                <p style="font-size: 1.5rem; margin-bottom: 30px;">ğŸš§ Ù‡Ø°Ù‡ Ø§Ù„Ù„Ø¹Ø¨Ø© Ù‚ÙŠØ¯ Ø§Ù„ØªØ·ÙˆÙŠØ± ğŸš§</p>
                <p style="font-size: 1.2rem; opacity: 0.8;">Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù‚Ø±ÙŠØ¨Ø§Ù‹ Ù…Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©</p>
            </div>
        </div>

        <footer class="footer">
            <p>&copy; 2025 - Ø¨Ø±Ù…Ø¬Ø© ÙˆØªØ·ÙˆÙŠØ±: Ù…Ø­Ø§Ø³Ø¨ Ø£Ø­Ù…Ø¯ Ù…Ø¨Ø±ÙˆÙƒ</p>
            <p style="margin-top: 10px; opacity: 0.8;">Ù…ÙˆÙ‚Ø¹ Ø£Ù„Ø¹Ø§Ø¨ ØªØ¹Ù„ÙŠÙ…ÙŠ Ø§Ø­ØªØ±Ø§ÙÙŠ Ù…Ø¹ Ø¯Ø¹Ù… ÙƒØ§Ù…Ù„ Ù„Ù„ØªÙ„ÙØ²ÙŠÙˆÙ† Ø§Ù„Ø°ÙƒÙŠ ÙˆØ§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</p>
        </footer>
    </div>

    <script>
        // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©
        let currentFocus = 0;
        let gameCards = [];
        let isRemoteMode = false;
        let soundEnabled = true;
        
        // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø´Ø·Ø±Ù†Ø¬
        let chessBoard = [];
        let selectedSquare = null;
        let isWhiteTurn = true;
        let gameStatus = 'playing';

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©
        document.addEventListener('DOMContentLoaded', function() {
            gameCards = document.querySelectorAll('.game-card');
            setupRemoteControl();
            initializeChess();
            
            // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ù„Ù„Ø¨Ø·Ø§Ù‚Ø§Øª
            gameCards.forEach((card, index) => {
                card.addEventListener('click', () => selectGame(card.dataset.game));
                card.addEventListener('focus', () => setFocus(index));
            });
        });

        // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªØ­ÙƒÙ… Ø¨Ø§Ù„Ø±ÙŠÙ…ÙˆØª
        function setupRemoteControl() {
            // ÙƒØ´Ù Ø§Ù„ØªÙ„ÙØ²ÙŠÙˆÙ† Ø§Ù„Ø°ÙƒÙŠ
            const userAgent = navigator.userAgent.toLowerCase();
            isRemoteMode = userAgent.includes('smart-tv') || 
                          userAgent.includes('tizen') || 
                          userAgent.includes('webos') || 
                          userAgent.includes('roku') ||
                          window.innerWidth >= 1920;

            document.addEventListener('keydown', handleKeyPress);
            
            // ØªÙØ¹ÙŠÙ„ ÙˆØ¶Ø¹ Ø§Ù„Ø±ÙŠÙ…ÙˆØª Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø£ÙŠ Ø³Ù‡Ù…
            if (!isRemoteMode) {
                document.addEventListener('keydown', function enableRemote(e) {
                    if (['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight'].includes(e.key)) {
                        isRemoteMode = true;
                        setFocus(0);
                        document.removeEventListener('keydown', enableRemote);
                    }
                }, { once: true });
            } else {
                setFocus(0);
            }
        }

        // Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø¶ØºØ· Ø§Ù„Ù…ÙØ§ØªÙŠØ­
        function handleKeyPress(event) {
            if (!isRemoteMode) return;

            switch (event.key) {
                case 'ArrowUp':
                    event.preventDefault();
                    if (document.getElementById('main-menu').style.display !== 'none') {
                        moveFocus(-2); // ØµØ¹ÙˆØ¯ ØµÙÙŠÙ† ÙÙŠ Ø§Ù„Ø´Ø¨ÙƒØ©
                    }
                    break;
                case 'ArrowDown':
                    event.preventDefault();
                    if (document.getElementById('main-menu').style.display !== 'none') {
                        moveFocus(2); // Ù†Ø²ÙˆÙ„ ØµÙÙŠÙ† ÙÙŠ Ø§Ù„Ø´Ø¨ÙƒØ©
                    }
                    break;
                case 'ArrowLeft':
                    event.preventDefault();
                    if (document.getElementById('main-menu').style.display !== 'none') {
                        moveFocus(-1);
                    }
                    break;
                case 'ArrowRight':
                    event.preventDefault();
                    if (document.getElementById('main-menu').style.display !== 'none') {
                        moveFocus(1);
                    }
                    break;
                case 'Enter':
                case ' ':
                    event.preventDefault();
                    if (document.getElementById('main-menu').style.display !== 'none') {
                        const focusedCard = gameCards[currentFocus];
                        if (focusedCard) {
                            selectGame(focusedCard.dataset.game);
                        }
                    }
                    break;
                case 'Escape':
                case 'Backspace':
                    event.preventDefault();
                    showMainMenu();
                    break;
            }
        }

        // ØªØ­Ø±ÙŠÙƒ Ø§Ù„ØªØ±ÙƒÙŠØ²
        function moveFocus(direction) {
            const newFocus = currentFocus + direction;
            if (newFocus >= 0 && newFocus < gameCards.length) {
                setFocus(newFocus);
            }
        }

        // ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªØ±ÙƒÙŠØ²
        function setFocus(index) {
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªØ±ÙƒÙŠØ² Ù…Ù† Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
            gameCards.forEach(card => card.classList.remove('focused'));
            
            // ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªØ±ÙƒÙŠØ² Ø§Ù„Ø¬Ø¯ÙŠØ¯
            currentFocus = index;
            if (gameCards[currentFocus]) {
                gameCards[currentFocus].classList.add('focused');
                gameCards[currentFocus].focus();
            }
        }

        // Ø§Ø®ØªÙŠØ§Ø± Ù„Ø¹Ø¨Ø©
        function selectGame(gameType) {
            playSound('select');
            
            document.getElementById('main-menu').style.display = 'none';
            
            if (gameType === 'chess') {
                document.getElementById('chess-game').classList.add('active');
                resetChess();
            } else if (gameType === 'coming-soon') {
                alert('ğŸ® Ù‡Ø°Ù‡ Ø§Ù„Ù„Ø¹Ø¨Ø© Ù‚ÙŠØ¯ Ø§Ù„ØªØ·ÙˆÙŠØ± ÙˆØ³ØªÙƒÙˆÙ† Ù…ØªØ§Ø­Ø© Ù‚Ø±ÙŠØ¨Ø§Ù‹!');
                showMainMenu();
            } else {
                document.getElementById('current-game-title').textContent = getGameTitle(gameType);
                document.getElementById('other-games').classList.add('active');
            }
        }

        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù„Ø¹Ø¨Ø©
        function getGameTitle(gameType) {
            const titles = {
                'backgammon': 'âš« Ø§Ù„Ø·Ø§ÙˆÙ„Ø© âšª',
                'domino': 'âš€ Ø§Ù„Ø¯ÙˆÙ…ÙŠÙ†Ùˆ âš…',
                'spaceshooter': 'ğŸš€ Ø­Ø±Ø¨ Ø§Ù„Ù†Ø¬ÙˆÙ… ğŸŒŸ',
                'carracing': 'ğŸï¸ Ø³Ø¨Ø§Ù‚ Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª ğŸ'
            };
            return titles[gameType] || 'Ø§Ù„Ù„Ø¹Ø¨Ø©';
        }

        // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        function showMainMenu() {
            document.querySelectorAll('.game-area').forEach(area => {
                area.classList.remove('active');
            });
            document.getElementById('main-menu').style.display = 'block';
            
            if (isRemoteMode) {
                setFocus(0);
            }
        }

        // ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª
        function playSound(type) {
            if (!soundEnabled) return;
            
            // Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ø£ØµÙˆØ§Øª Ø¨Ù€ Web Audio API
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            switch (type) {
                case 'select':
                    oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
                    break;
                case 'move':
                    oscillator.frequency.setValueAtTime(400, audioContext.currentTime);
                    break;
                case 'capture':
                    oscillator.frequency.setValueAtTime(200, audioContext.currentTime);
                    break;
            }
            
            gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.1);
        }

        // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ØµÙˆØª
        function toggleSound() {
            soundEnabled = !soundEnabled;
            playSound('select');
            alert(soundEnabled ? 'ğŸ”Š ØªÙ… ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª' : 'ğŸ”‡ ØªÙ… Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ØµÙˆØª');
        }

        // === ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø´Ø·Ø±Ù†Ø¬ ===

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø´Ø·Ø±Ù†Ø¬
        function initializeChess() {
            chessBoard = createInitialBoard();
            renderChessBoard();
        }

        // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù„ÙˆØ­Ø© Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠØ©
        function createInitialBoard() {
            const board = Array(8).fill().map(() => Array(8).fill(''));
            
            // Ø§Ù„Ù‚Ø·Ø¹ Ø§Ù„Ø³ÙˆØ¯Ø§Ø¡
            board[0] = ['â™œ', 'â™', 'â™', 'â™›', 'â™š', 'â™', 'â™', 'â™œ'];
            board[1] = ['â™Ÿ', 'â™Ÿ', 'â™Ÿ', 'â™Ÿ', 'â™Ÿ', 'â™Ÿ', 'â™Ÿ', 'â™Ÿ'];
            
            // Ø§Ù„Ù‚Ø·Ø¹ Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡
            board[6] = ['â™™', 'â™™', 'â™™', 'â™™', 'â™™', 'â™™', 'â™™', 'â™™'];
            board[7] = ['â™–', 'â™˜', 'â™—', 'â™•', 'â™”', 'â™—', 'â™˜', 'â™–'];
            
            return board;
        }

        // Ø±Ø³Ù… Ù„ÙˆØ­Ø© Ø§Ù„Ø´Ø·Ø±Ù†Ø¬
        function renderChessBoard() {
            const boardElement = document.getElementById('chess-board');
            boardElement.innerHTML = '';
            
            for (let row = 0; row < 8; row++) {
                for (let col = 0; col < 8; col++) {
                    const square = document.createElement('div');
                    square.className = `chess-square ${(row + col) % 2 === 0 ? 'light' : 'dark'}`;
                    square.textContent = chessBoard[row][col];
                    square.onclick = () => handleSquareClick(row, col);
                    
                    if (selectedSquare && selectedSquare[0] === row && selectedSquare[1] === col) {
                        square.classList.add('selected');
                    }
                    
                    boardElement.appendChild(square);
                }
            }
            
            updateGameStatus();
        }

        // Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø±Ø¨Ø¹
        function handleSquareClick(row, col) {
            const piece = chessBoard[row][col];
            
            if (selectedSquare) {
                const [selectedRow, selectedCol] = selectedSquare;
                
                if (row === selectedRow && col === selectedCol) {
                    // Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ­Ø¯ÙŠØ¯
                    selectedSquare = null;
                } else if (isValidMove(selectedRow, selectedCol, row, col)) {
                    // ØªÙ†ÙÙŠØ° Ø§Ù„Ø­Ø±ÙƒØ©
                    makeMove(selectedRow, selectedCol, row, col);
                } else if (piece && isPieceOwnedByCurrentPlayer(piece)) {
                    // Ø§Ø®ØªÙŠØ§Ø± Ù‚Ø·Ø¹Ø© Ø¬Ø¯ÙŠØ¯Ø©
                    selectedSquare = [row, col];
                } else {
                    selectedSquare = null;
                }
            } else if (piece && isPieceOwnedByCurrentPlayer(piece)) {
                // Ø§Ø®ØªÙŠØ§Ø± Ù‚Ø·Ø¹Ø©
                selectedSquare = [row, col];
            }
            
            renderChessBoard();
        }

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù…Ù„ÙƒÙŠØ© Ø§Ù„Ù‚Ø·Ø¹Ø©
        function isPieceOwnedByCurrentPlayer(piece) {
            const isWhitePiece = piece.charCodeAt(0) >= 9812 && piece.charCodeAt(0) <= 9817;
            return isWhiteTurn === isWhitePiece;
        }

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø­Ø±ÙƒØ© (Ù…Ø¨Ø³Ø·)
        function isValidMove(fromRow, fromCol, toRow, toCol) {
            // ØªØ­Ù‚Ù‚ Ù…Ø¨Ø³Ø· - ÙŠÙ…ÙƒÙ† ØªØ­Ø³ÙŠÙ†Ù‡
            const piece = chessBoard[fromRow][fromCol];
            const targetPiece = chessBoard[toRow][toCol];
            
            // Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø£ÙƒÙ„ Ù‚Ø·Ø¹Ø© Ù…Ù† Ù†ÙØ³ Ø§Ù„Ù„ÙˆÙ†
            if (targetPiece && isPieceOwnedByCurrentPlayer(targetPiece)) {
                return false;
            }
            
            // ØªØ­Ù‚Ù‚ Ø£Ø³Ø§Ø³ÙŠ Ù„Ù„Ø­Ø±ÙƒØ©
            const rowDiff = Math.abs(toRow - fromRow);
            const colDiff = Math.abs(toCol - fromCol);
            
            // Ø§Ù„Ø¨ÙŠØ¯Ù‚
            if (piece === 'â™™' || piece === 'â™Ÿ') {
                const direction = piece === 'â™™' ? -1 : 1;
                const startRow = piece === 'â™™' ? 6 : 1;
                
                if (colDiff === 0) {
                    // Ø­Ø±ÙƒØ© Ù„Ù„Ø£Ù…Ø§Ù…
                    if (toRow === fromRow + direction && !targetPiece) return true;
                    if (fromRow === startRow && toRow === fromRow + 2 * direction && !targetPiece) return true;
                } else if (colDiff === 1 && rowDiff === 1) {
                    // Ø£ÙƒÙ„ Ù‚Ø·Ø±ÙŠ
                    return targetPiece && !isPieceOwnedByCurrentPlayer(targetPiece);
                }
                return false;
            }
            
            // Ø§Ù„Ø±Ø®
            if (piece === 'â™–' || piece === 'â™œ') {
                return (rowDiff === 0 || colDiff === 0) && isPathClear(fromRow, fromCol, toRow, toCol);
            }
            
            // Ø§Ù„ÙÙŠÙ„
            if (piece === 'â™—' || piece === 'â™') {
                return rowDiff === colDiff && isPathClear(fromRow, fromCol, toRow, toCol);
            }
            
            // Ø§Ù„Ù…Ù„ÙƒØ©
            if (piece === 'â™•' || piece === 'â™›') {
                return (rowDiff === 0 || colDiff === 0 || rowDiff === colDiff) && isPathClear(fromRow, fromCol, toRow, toCol);
            }
            
            // Ø§Ù„Ø­ØµØ§Ù†
            if (piece === 'â™˜' || piece === 'â™') {
                return (rowDiff === 2 && colDiff === 1) || (rowDiff === 1 && colDiff === 2);
            }
            
            // Ø§Ù„Ù…Ù„Ùƒ
            if (piece === 'â™”' || piece === 'â™š') {
                return rowDiff <= 1 && colDiff <= 1;
            }
            
            return false;
        }

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø®Ù„Ùˆ Ø§Ù„Ù…Ø³Ø§Ø±
        function isPathClear(fromRow, fromCol, toRow, toCol) {
            const rowStep = toRow > fromRow ? 1 : toRow < fromRow ? -1 : 0;
            const colStep = toCol > fromCol ? 1 : toCol < fromCol ? -1 : 0;
            
            let currentRow = fromRow + rowStep;
            let currentCol = fromCol + colStep;
            
            while (currentRow !== toRow || currentCol !== toCol) {
                if (chessBoard[currentRow][currentCol] !== '') {
                    return false;
                }
                currentRow += rowStep;
                currentCol += colStep;
            }
            
            return true;
        }

        // ØªÙ†ÙÙŠØ° Ø§Ù„Ø­Ø±ÙƒØ©
        function makeMove(fromRow, fromCol, toRow, toCol) {
            const piece = chessBoard[fromRow][fromCol];
            const capturedPiece = chessBoard[toRow][toCol];
            
            chessBoard[toRow][toCol] = piece;
            chessBoard[fromRow][fromCol] = '';
            
            selectedSquare = null;
            isWhiteTurn = !isWhiteTurn;
            
            if (capturedPiece) {
                playSound('capture');
            } else {
                playSound('move');
            }
        }

        // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©
        function updateGameStatus() {
            const statusElement = document.getElementById('game-status');
            statusElement.textContent = isWhiteTurn ? 'Ø¯ÙˆØ± Ø§Ù„Ø£Ø¨ÙŠØ¶' : 'Ø¯ÙˆØ± Ø§Ù„Ø£Ø³ÙˆØ¯';
        }

        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ø´Ø·Ø±Ù†Ø¬
        function resetChess() {
            chessBoard = createInitialBoard();
            selectedSquare = null;
            isWhiteTurn = true;
            gameStatus = 'playing';
            renderChessBoard();
            playSound('select');
        }
    </script>
</body>
</html>
